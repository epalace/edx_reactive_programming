








<!DOCTYPE html>
<!--[if lte IE 9]><html class="ie ie9 lte9" lang="en"><![endif]-->
<!--[if !IE]><!--><html lang="en"><!--<![endif]-->
<head dir="ltr">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"><script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={xpid:"XA4GVl5ACwAEV1JQAA=="};window.NREUM||(NREUM={}),__nr_require=function(t,n,e){function r(e){if(!n[e]){var o=n[e]={exports:{}};t[e][0].call(o.exports,function(n){var o=t[e][1][n];return r(o||n)},o,o.exports)}return n[e].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<e.length;o++)r(e[o]);return r}({1:[function(t,n,e){function r(t){try{s.console&&console.log(t)}catch(n){}}var o,i=t("ee"),a=t(16),s={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(s.console=!0,o.indexOf("dev")!==-1&&(s.dev=!0),o.indexOf("nr_dev")!==-1&&(s.nrDev=!0))}catch(c){}s.nrDev&&i.on("internal-error",function(t){r(t.stack)}),s.dev&&i.on("fn-err",function(t,n,e){r(e.stack)}),s.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(s,function(t,n){return t}).join(", ")))},{}],2:[function(t,n,e){function r(t,n,e,r,s){try{p?p-=1:o(s||new UncaughtException(t,n,e),!0)}catch(f){try{i("ierr",[f,c.now(),!0])}catch(d){}}return"function"==typeof u&&u.apply(this,a(arguments))}function UncaughtException(t,n,e){this.message=t||"Uncaught error with no additional information",this.sourceURL=n,this.line=e}function o(t,n){var e=n?null:c.now();i("err",[t,e])}var i=t("handle"),a=t(17),s=t("ee"),c=t("loader"),f=t("gos"),u=window.onerror,d=!1,l="nr@seenError",p=0;c.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(h){"stack"in h&&(t(8),t(7),"addEventListener"in window&&t(5),c.xhrWrappable&&t(9),d=!0)}s.on("fn-start",function(t,n,e){d&&(p+=1)}),s.on("fn-err",function(t,n,e){d&&!e[l]&&(f(e,l,function(){return!0}),this.thrown=!0,o(e))}),s.on("fn-end",function(){d&&!this.thrown&&p>0&&(p-=1)}),s.on("internal-error",function(t){i("ierr",[t,c.now(),!0])})},{}],3:[function(t,n,e){t("loader").features.ins=!0},{}],4:[function(t,n,e){function r(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var o=t("ee"),i=t("handle"),a=t(8),s=t(7),c="learResourceTimings",f="addEventListener",u="resourcetimingbufferfull",d="bstResource",l="resource",p="-start",h="-end",m="fn"+p,v="fn"+h,w="bstTimer",y="pushState",g=t("loader");g.features.stn=!0,t(6);var b=NREUM.o.EV;o.on(m,function(t,n){var e=t[0];e instanceof b&&(this.bstStart=g.now())}),o.on(v,function(t,n){var e=t[0];e instanceof b&&i("bst",[e,n,this.bstStart,g.now()])}),a.on(m,function(t,n,e){this.bstStart=g.now(),this.bstType=e}),a.on(v,function(t,n){i(w,[n,this.bstStart,g.now(),this.bstType])}),s.on(m,function(){this.bstStart=g.now()}),s.on(v,function(t,n){i(w,[n,this.bstStart,g.now(),"requestAnimationFrame"])}),o.on(y+p,function(t){this.time=g.now(),this.startPath=location.pathname+location.hash}),o.on(y+h,function(t){i("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),f in window.performance&&(window.performance["c"+c]?window.performance[f](u,function(t){i(d,[window.performance.getEntriesByType(l)]),window.performance["c"+c]()},!1):window.performance[f]("webkit"+u,function(t){i(d,[window.performance.getEntriesByType(l)]),window.performance["webkitC"+c]()},!1)),document[f]("scroll",r,{passive:!0}),document[f]("keypress",r,!1),document[f]("click",r,!1)}},{}],5:[function(t,n,e){function r(t){for(var n=t;n&&!n.hasOwnProperty(u);)n=Object.getPrototypeOf(n);n&&o(n)}function o(t){s.inPlace(t,[u,d],"-",i)}function i(t,n){return t[1]}var a=t("ee").get("events"),s=t(19)(a,!0),c=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";n.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,n){var e=t[1],r=c(e,"nr@wrapped",function(){function t(){if("function"==typeof e.handleEvent)return e.handleEvent.apply(e,arguments)}var n={object:t,"function":e}[typeof e];return n?s(n,"fn-",null,n.name||"anonymous"):e});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],6:[function(t,n,e){var r=t("ee").get("history"),o=t(19)(r);n.exports=r,o.inPlace(window.history,["pushState","replaceState"],"-")},{}],7:[function(t,n,e){var r=t("ee").get("raf"),o=t(19)(r),i="equestAnimationFrame";n.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],8:[function(t,n,e){function r(t,n,e){t[0]=a(t[0],"fn-",null,e)}function o(t,n,e){this.method=e,this.timerDuration=isNaN(t[1])?0:+t[1],t[0]=a(t[0],"fn-",this,e)}var i=t("ee").get("timer"),a=t(19)(i),s="setTimeout",c="setInterval",f="clearTimeout",u="-start",d="-";n.exports=i,a.inPlace(window,[s,"setImmediate"],s+d),a.inPlace(window,[c],c+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(c+u,r),i.on(s+u,o)},{}],9:[function(t,n,e){function r(t,n){d.inPlace(n,["onreadystatechange"],"fn-",s)}function o(){var t=this,n=u.context(t);t.readyState>3&&!n.resolved&&(n.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,y,"fn-",s)}function i(t){g.push(t),h&&(x?x.then(a):v?v(a):(E=-E,O.data=E))}function a(){for(var t=0;t<g.length;t++)r([],g[t]);g.length&&(g=[])}function s(t,n){return n}function c(t,n){for(var e in t)n[e]=t[e];return n}t(5);var f=t("ee"),u=f.get("xhr"),d=t(19)(u),l=NREUM.o,p=l.XHR,h=l.MO,m=l.PR,v=l.SI,w="readystatechange",y=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],g=[];n.exports=u;var b=window.XMLHttpRequest=function(t){var n=new p(t);try{u.emit("new-xhr",[n],n),n.addEventListener(w,o,!1)}catch(e){try{u.emit("internal-error",[e])}catch(r){}}return n};if(c(p,b),b.prototype=p.prototype,d.inPlace(b.prototype,["open","send"],"-xhr-",s),u.on("send-xhr-start",function(t,n){r(t,n),i(n)}),u.on("open-xhr-start",r),h){var x=m&&m.resolve();if(!v&&!m){var E=1,O=document.createTextNode(E);new h(a).observe(O,{characterData:!0})}}else f.on("fn-end",function(t){t[0]&&t[0].type===w||a()})},{}],10:[function(t,n,e){function r(t){var n=this.params,e=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);if(!n.aborted){if(e.duration=a.now()-this.startTime,4===t.readyState){n.status=t.status;var i=o(t,this.lastSize);if(i&&(e.rxSize=i),this.sameOrigin){var c=t.getResponseHeader("X-NewRelic-App-Data");c&&(n.cat=c.split(", ").pop())}}else n.status=0;e.cbTime=this.cbTime,f.emit("xhr-done",[t],t),s("xhr",[n,e,this.startTime])}}}function o(t,n){var e=t.responseType;if("json"===e&&null!==n)return n;var r="arraybuffer"===e||"blob"===e||"json"===e?t.response:t.responseText;return h(r)}function i(t,n){var e=c(n),r=t.params;r.host=e.hostname+":"+e.port,r.pathname=e.pathname,t.sameOrigin=e.sameOrigin}var a=t("loader");if(a.xhrWrappable){var s=t("handle"),c=t(11),f=t("ee"),u=["load","error","abort","timeout"],d=u.length,l=t("id"),p=t(14),h=t(13),m=window.XMLHttpRequest;a.features.xhr=!0,t(9),f.on("new-xhr",function(t){var n=this;n.totalCbs=0,n.called=0,n.cbTime=0,n.end=r,n.ended=!1,n.xhrGuids={},n.lastSize=null,p&&(p>34||p<10)||window.opera||t.addEventListener("progress",function(t){n.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,n){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&n.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,n){var e=this.metrics,r=t[0],o=this;if(e&&r){var i=h(r);i&&(e.txSize=i)}this.startTime=a.now(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof n.onload))&&o.end(n)}catch(e){try{f.emit("internal-error",[e])}catch(r){}}};for(var s=0;s<d;s++)n.addEventListener(u[s],this.listener,!1)}),f.on("xhr-cb-time",function(t,n,e){this.cbTime+=t,n?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof e.onload||this.end(e)}),f.on("xhr-load-added",function(t,n){var e=""+l(t)+!!n;this.xhrGuids&&!this.xhrGuids[e]&&(this.xhrGuids[e]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,n){var e=""+l(t)+!!n;this.xhrGuids&&this.xhrGuids[e]&&(delete this.xhrGuids[e],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,n){n instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],n)}),f.on("removeEventListener-end",function(t,n){n instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],n)}),f.on("fn-start",function(t,n,e){n instanceof m&&("onload"===e&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=a.now()))}),f.on("fn-end",function(t,n){this.xhrCbStart&&f.emit("xhr-cb-time",[a.now()-this.xhrCbStart,this.onload,n],n)})}},{}],11:[function(t,n,e){n.exports=function(t){var n=document.createElement("a"),e=window.location,r={};n.href=t,r.port=n.port;var o=n.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=n.hostname||e.hostname,r.pathname=n.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!n.protocol||":"===n.protocol||n.protocol===e.protocol,a=n.hostname===document.domain&&n.port===e.port;return r.sameOrigin=i&&(!n.hostname||a),r}},{}],12:[function(t,n,e){function r(){}function o(t,n,e){return function(){return i(t,[f.now()].concat(s(arguments)),n?null:this,e),n?void 0:this}}var i=t("handle"),a=t(16),s=t(17),c=t("ee").get("tracer"),f=t("loader"),u=NREUM;"undefined"==typeof window.newrelic&&(newrelic=u);var d=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],l="api-",p=l+"ixn-";a(d,function(t,n){u[n]=o(l+n,!0,"api")}),u.addPageAction=o(l+"addPageAction",!0),u.setCurrentRouteName=o(l+"routeName",!0),n.exports=newrelic,u.interaction=function(){return(new r).get()};var h=r.prototype={createTracer:function(t,n){var e={},r=this,o="function"==typeof n;return i(p+"tracer",[f.now(),t,e],r),function(){if(c.emit((o?"":"no-")+"fn-start",[f.now(),r,o],e),o)try{return n.apply(this,arguments)}catch(t){throw c.emit("fn-err",[arguments,this,t],e),t}finally{c.emit("fn-end",[f.now()],e)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,n){h[n]=o(p+n)}),newrelic.noticeError=function(t,n){"string"==typeof t&&(t=new Error(t)),i("err",[t,f.now(),!1,n])}},{}],13:[function(t,n,e){n.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(n){return}}}},{}],14:[function(t,n,e){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),n.exports=r},{}],15:[function(t,n,e){function r(t,n){if(!o)return!1;if(t!==o)return!1;if(!n)return!0;if(!i)return!1;for(var e=i.split("."),r=n.split("."),a=0;a<r.length;a++)if(r[a]!==e[a])return!1;return!0}var o=null,i=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var s=navigator.userAgent,c=s.match(a);c&&s.indexOf("Chrome")===-1&&s.indexOf("Chromium")===-1&&(o="Safari",i=c[1])}n.exports={agent:o,version:i,match:r}},{}],16:[function(t,n,e){function r(t,n){var e=[],r="",i=0;for(r in t)o.call(t,r)&&(e[i]=n(r,t[r]),i+=1);return e}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],17:[function(t,n,e){function r(t,n,e){n||(n=0),"undefined"==typeof e&&(e=t?t.length:0);for(var r=-1,o=e-n||0,i=Array(o<0?0:o);++r<o;)i[r]=t[n+r];return i}n.exports=r},{}],18:[function(t,n,e){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],19:[function(t,n,e){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(17),a="nr@original",s=Object.prototype.hasOwnProperty,c=!1;n.exports=function(t,n){function e(t,n,e,o){function nrWrapper(){var r,a,s,c;try{a=this,r=i(arguments),s="function"==typeof e?e(r,a):e||{}}catch(f){l([f,"",[r,a,o],s])}u(n+"start",[r,a,o],s);try{return c=t.apply(a,r)}catch(d){throw u(n+"err",[r,a,d],s),d}finally{u(n+"end",[r,a,c],s)}}return r(t)?t:(n||(n=""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,n,o,i){o||(o="");var a,s,c,f="-"===o.charAt(0);for(c=0;c<n.length;c++)s=n[c],a=t[s],r(a)||(t[s]=e(a,f?s+o:o,i,s))}function u(e,r,o){if(!c||n){var i=c;c=!0;try{t.emit(e,r,o,n)}catch(a){l([a,e,r,o])}c=i}}function d(t,n){if(Object.defineProperty&&Object.keys)try{var e=Object.keys(t);return e.forEach(function(e){Object.defineProperty(n,e,{get:function(){return t[e]},set:function(n){return t[e]=n,n}})}),n}catch(r){l([r])}for(var o in t)s.call(t,o)&&(n[o]=t[o]);return n}function l(n){try{t.emit("internal-error",n)}catch(e){}}return t||(t=o),e.inPlace=f,e.flag=a,e}},{}],ee:[function(t,n,e){function r(){}function o(t){function n(t){return t&&t instanceof r?t:t?c(t,s,i):i()}function e(e,r,o,i){if(!l.aborted||i){t&&t(e,r,o);for(var a=n(o),s=m(e),c=s.length,f=0;f<c;f++)s[f].apply(a,r);var d=u[g[e]];return d&&d.push([b,e,r,a]),a}}function p(t,n){y[t]=m(t).concat(n)}function h(t,n){var e=y[t];if(e)for(var r=0;r<e.length;r++)e[r]===n&&e.splice(r,1)}function m(t){return y[t]||[]}function v(t){return d[t]=d[t]||o(e)}function w(t,n){f(t,function(t,e){n=n||"feature",g[e]=n,n in u||(u[n]=[])})}var y={},g={},b={on:p,addEventListener:p,removeEventListener:h,emit:e,get:v,listeners:m,context:n,buffer:w,abort:a,aborted:!1};return b}function i(){return new r}function a(){(u.api||u.feature)&&(l.aborted=!0,u=l.backlog={})}var s="nr@context",c=t("gos"),f=t(16),u={},d={},l=n.exports=o();l.backlog=u},{}],gos:[function(t,n,e){function r(t,n,e){if(o.call(t,n))return t[n];var r=e();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(t,n,e){function r(t,n,e,r){o.buffer([t],r),o.emit(t,n,e)}var o=t("ee").get("handle");n.exports=r,r.ee=o},{}],id:[function(t,n,e){function r(t){var n=typeof t;return!t||"object"!==n&&"function"!==n?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");n.exports=r},{}],loader:[function(t,n,e){function r(){if(!E++){var t=x.info=NREUM.info,n=p.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&n))return u.abort();f(g,function(n,e){t[n]||(t[n]=e)}),c("mark",["onload",a()+x.offset],null,"api");var e=p.createElement("script");e.src="https://"+t.agent,n.parentNode.insertBefore(e,n)}}function o(){"complete"===p.readyState&&i()}function i(){c("mark",["domContent",a()+x.offset],null,"api")}function a(){return O.exists&&performance.now?Math.round(performance.now()):(s=Math.max((new Date).getTime(),s))-x.offset}var s=(new Date).getTime(),c=t("handle"),f=t(16),u=t("ee"),d=t(15),l=window,p=l.document,h="addEventListener",m="attachEvent",v=l.XMLHttpRequest,w=v&&v.prototype;NREUM.o={ST:setTimeout,SI:l.setImmediate,CT:clearTimeout,XHR:v,REQ:l.Request,EV:l.Event,PR:l.Promise,MO:l.MutationObserver};var y=""+location,g={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1118.min.js"},b=v&&w&&w[h]&&!/CriOS/.test(navigator.userAgent),x=n.exports={offset:s,now:a,origin:y,features:{},xhrWrappable:b,userAgent:d};t(12),p[h]?(p[h]("DOMContentLoaded",i,!1),l[h]("load",r,!1)):(p[m]("onreadystatechange",o),l[m]("onload",r)),c("mark",["firstbyte",s],null,"api");var E=0,O=t(18)},{}]},{},["loader",2,10,4,3]);</script><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","queueTime":0,"licenseKey":"1beac94c95","agent":"","transactionName":"NQQGYUZWDUNSVUMPWQxOIkBaVBdZXFgYBVkXExdQQ1YRVR1AXgNBEU8NW1BSGwpwWUIURQcWBUdRfg1UVk4ZAVMW","atts":"GUMRFw5MQVNcWVwPUxFPF1RdWxdYQUNoDl8GTxdcTlJBCgsOG0ROAD4RRlFFPENHV0MDGBEEEGpZVg1JHUVeHFNAW1UAGBUJR0dpXhVpAxIdWFlSF0JaVRVcUAMNF1AYFQBfXF1eA0VMCRFXR0cMREZCXEhFCxsBFw4EURwRVVgJXQsEFxtVXRBvUlhYCE8PDhFGa14HHkBfTQMUWFVWGRZUDF9YX1IVGAcZFFBGXg5VXUJEOV8RPgFbQFIRQEFfRAMYEQgeUBYNVhwRVVgJXQsEFxtERQxUHVNTHhgXFQkbR14ZVREMBlYOTkMWUEVCBkNHaUIVUxA+BVJRWRcSCRR6CUwLDQhUGwJNABMeegdVCw8QWkdfWBB6WEMDWkIsBVYUeDAQaxYGVmlTVTsGHRciQENaUjFTACoNQRsCUAcdBQFGHikpMHh4G0NcWl1SRnEHAg9aHRcgWEFZWgMZVVJKBRoEVQgAGA9QFjEAAlRGXkwFAAEZVQBATUZWW1gIWVZFGRZEDQVJUFBPTkVAU0VLXwwHCxtHXhlVEQwDUAVOQwdaW1wKVUAYaDlVBAURXFAZEFlJUxVcAlFNRlZbWAhZVkUZB1wRPgNHW0ITb1pSGRVfGARGDwAbQVNcQ0UVUz0IABcOFQBfRkREAxsUUF5wZHEvSBhFVAdaA0wWUFVUF1lFU29NBzZTVAQNFU8SUFlYDV8HEkpQUE9OWkRCGgVZDQoNUBlfBlFXU0VLRgMYCFpVU01DWkxSRAxVUFUZFlQMX1hfUhUYPQYFG0deGVURDAVTGkASAUQaVQ9fUF1oBVkXDxBGGkEGQkdfVAdaQFtVGRZEBkEdVFsJVQk+B1pBWRdDHUVSF0MHDxBcVVtBCgIaFQVZDQoNUEcZE0JcUhoDUhpMB0ZGURdfWFNZSEULGwEXDgFXHBFOVTlDEQQWakdDAkRWGEQDQj0MBVtNGRBVQkNSCEILAAgbVlsMU1hFaBNGBgAQUFAVWQEfFFQJWQkIAUYaaAVSQxhED0wHQ14HDBtBSFFpQhVTED4XQVVDBh5UU0M5WwMPHRtWWwxTWEVoCUMWQ14EGBUAX1xdXgNFTAQATRldFEQeVVgJXQsESUZdUA1RR0NFAxgRCB5QFg1QBAEaFQVZDQoNUEcZAENBUEMJXQcPSkZdTQYSCQADShQaAztAR1IRb0BCVhJTTBIBQWtaAl5KGFUKWQEKF2pBRwdRR1NTRAxTTUZWW1gIWVZFGTlRCwVKRl1NBhIJBABKFAEOC15dUhAeVlJPClkFBgFRXVlNQ1pMUkQMVk1GVltYCFlWRRk5aQoSEFYaRApKVhQNXgNOQxdQRRkHWUBGWwdPPQ8FWFEVWRJhU0cKXwEAEFBQFyhVShthB1oXBERmQFgRVRMeQQNECwcNUFAXF0JSVVxPFE5DB1pbXApVQBhHFFkGTAFRTBoPUV1RQgdRB0wUR1FRBkJWWFQDGBEIHlAWDVEcEUVSFxgSDhdcQF4MXhEMBkoUAQ4LXl1SEG9HWUMHWj0SDU9RFVkCBQ4CShQRBBUbXUQ8RFpbUjlaCwwNQVFTQQpVV1sVU05DHFdrQhBVQWlEElcWBEpSUUM8XVJYTkhGEA4GWVFaTUNaTFJEDFRTXQQYFQBfXF1eA0VMERZaUBoGVEsbRANFEQgLW11TTUNaTFJEDFNWVRkWTwFvRkVSFGkRFQVBURkEVUdpWgdYG08AQEZWF1lcWBVcBExSVgEFB1cDAw8HXgRSUlUHGBUAX1xdXgNFTAkNUVF0AkBHX1gIRUwSDU9RFVkEHxREA0dMAwhaV1w8U1xDWRJFTBEWWlZbBl0RDAZKFAgWEGpRTxNZQVNEOV8MQ14GAgdTHBFVWAldCwQXG2toC0NARFRIRQsbARcOBk8SUFlYDV8HEkpeXWgXHkBfTQMUWFRQGRZEBkEdWEILaRcPDUFHFVkBHxRUCVkJCAFGGkQCWV9CXxRDPQMNURpECkpWFA1UAk5DB1pbXApVQBhoAVcWTxdcTlJBCgIaFRVTE08HQEZFBl5HGFUKWQEKO1xQFVkSUVpYBV1PF1UPcWclfEsdRAVXDgBJR1FWAERaQFI+HVM1VgUFDkhESkZSJkAHExBcV1YPG1FaWAVdIgVdAgACUAdXVQJXAVYHVwENBlMAAAUOBw9UB1NWUgQBEh8UWBRRQFtGcGRxL0gRGhUVUxNPB0BGRQZeRxhTD0USDQVMa1kCXVYUDUR3ERINUlpaBl5HFBtEVQ0OD1xRRE1fQ0JeC18YBAhMcVkHZUBTRS9STBINT1EVWQMFGhUFWQ0KDVBHGRNCXFIaA1IaTAdaW1wKVR5GWApfARhJQ11SFFVXGEQPTAdDXgEYFQBfXF1eA0VMIDNmcXshHkBfTQMUWFBXDRgVEFVCGFQTRBAECkEaWRZdbF9DA1sRQ14GGBUbUmxDRANEPRIQVEBSTUNWQmgLVwwYSlFBRQJEWllZRAxRT1wAAQ5XAwUBDl4GW1RTBQcbQVNcWVwPUxFPO1JVWwoeQF9NAxRYUFQBGBUAX1xdXgNFTAAORmtCEFVBaV4CGBEIHlAWDVIBHxRCFVMQPg1RFg1VAAMAD0oUEQQVG1dCEUJWWENIVA4OB15rVAxFXUJESF4WDAgXDgZPEkBTRkhVFxMWUFpDTVJfWVQNaQEOEVtARE1AQVlVClMPQ14EGBUAX1xdXgNFTAoNakYZEFlJUxVcBk5DF1BFGQ1FXmleElMPEkYPABtBSFFpQhVTED4XQVVDBh5UU0M5WwMPHRtHXhlVEQwGUxpAEwFEQVIQRGxcQBJpAQ4LXl1SQQoRWFgSGxAEFUBRRBdVVxQbREUHEEpXWFgAW2xVWBNYFhJKXUBaDxIJBxtERAcQEVBHQzxFQFNFOV8GQ14DBAdVCB8URANHTAMIWldcPFlXFA1EVA4OB14ZQVIKdmZxKk5JEgdUWFZOQlZXVBJfFAQ8HgVjUQACDxwSTxIEJEZRRhZVXUJeB1pJAwhaV1wjAgpXAQIDAVBVVlBUVwcBA1UABFtRBwdXVFIAAgYDBQRATUZGUUZNU0ZERQNYFk8GWVtUCG9QWUIIQhFPElBGQwpTUloVXAdOQxZQRUIGQ0dpVhNCCj4QTERSQQoRRVIVRQsOChhbRU5FXV1ZCUEMQxlI","applicationID":"3343327","errorBeacon":"bam.nr-data.net","applicationTime":747}</script>
    <meta name="viewport" content="width=device-width, initial-scale=1">



  
<title data-base-title="
 Replicated Key-Value Store (verified track) | scala-reactiveX Courseware | edX">
  
 Assignment | Replicated Key-Value Store (verified track) | scala-reactiveX Courseware | edX
</title>


      <script type="text/javascript">
        /* immediately break out of an iframe if coming from the marketing website */
        (function(window) {
          if (window.location !== window.top.location) {
            window.top.location = window.location;
          }
        })(this);
      </script>

  

  <script type="text/javascript" src="https://prod-edxapp.edx-cdn.org/static/js/i18n/en/djangojs.e37eef1ffc63.js"></script>
  <script type="text/javascript" src="https://prod-edxapp.edx-cdn.org/static/js/ie11_find_array.bd1c6dc7a133.js"></script>

  <link rel="icon" type="image/x-icon" href="https://prod-edxapp.edx-cdn.org/static/edx.org/images/favicon.9028de6ff678.ico" />

  
  

    <link href="https://prod-edxapp.edx-cdn.org/static/edx.org/css/lms-style-vendor.7efc5b554ed0.css" rel="stylesheet" type="text/css" />



    
  

    <link href="https://prod-edxapp.edx-cdn.org/static/edx.org/css/lms-main-v1.537b81269b16.css" rel="stylesheet" type="text/css" />




    
    <script type="text/javascript" src="https://prod-edxapp.edx-cdn.org/static/js/lms-main_vendor.a04b73033169.js" charset="utf-8"></script>


    
    <script type="text/javascript" src="https://prod-edxapp.edx-cdn.org/static/js/lms-application.7bec85e7ca02.js" charset="utf-8"></script>



  
    
    
    <script type="text/javascript" src="https://prod-edxapp.edx-cdn.org/static/bundles/commons.f6636770036a7842d2f4.f3aca87fb263.js" ></script>



  <script>
    window.baseUrl = "https://prod\u002Dedxapp.edx\u002Dcdn.org/static/";
    (function (require) {
      require.config({
          baseUrl: window.baseUrl
      });
    }).call(this, require || RequireJS.require);
  </script>
  <script type="text/javascript" src="https://prod-edxapp.edx-cdn.org/static/lms/js/require-config.38226099c6ad.js"></script>
  
    <script type="text/javascript">
        (function (require) {
          require.config({
              paths: {
                'js/courseware/courseware_factory': 'js/courseware/courseware_factory.1504fc10caef',
'draggabilly': 'js/vendor/draggabilly.26caba6f7187',
'js/courseware/toggle_element_visibility': 'js/courseware/toggle_element_visibility.d5f10bc65ed0',
'hls': 'common/js/vendor/hls.8f15a0109b05',
'js/courseware/link_clicked_events': 'js/courseware/link_clicked_events',
'moment': 'common/js/vendor/moment-with-locales.084396f4103c',
'moment-timezone': 'common/js/vendor/moment-timezone-with-data.60142e6c4416',
'js/student_account/logistration_factory': 'js/student_account/logistration_factory.291ea4b56c0f',
'js/groups/views/cohorts_dashboard_factory': 'js/groups/views/cohorts_dashboard_factory.7f46663f97b4',
'js/dateutil_factory': 'js/dateutil_factory.841c29e02056',
'course_bookmarks/js/views/bookmark_button': 'course_bookmarks/js/views/bookmark_button.d4cfaf3361fa',
'js/courseware/accordion_events': 'js/courseware/accordion_events.6064c7809de5',
'js/views/message_banner': 'js/views/message_banner.bc5a1361d5f5',
'js/groups/discussions_management/discussions_dashboard_factory': 'js/discussions_management/views/discussions_dashboard_factory.2e10d9097343',
'js/courseware/course_info_events': 'js/courseware/course_info_events.2fc35b57627f'
            }
          });
        }).call(this, require || RequireJS.require);
    </script>
  

  

  

    <link href="https://prod-edxapp.edx-cdn.org/static/edx.org/css/lms-style-course-vendor.e7ffa8d48d4a.css" rel="stylesheet" type="text/css" />




  

    <link href="https://prod-edxapp.edx-cdn.org/static/edx.org/css/lms-course.a8dfe352b8ff.css" rel="stylesheet" type="text/css" />




  

    <link href="https://prod-edxapp.edx-cdn.org/static/edx.org/css/lms-style-student-notes.a35233ec9b00.css" rel="stylesheet" type="text/css" />




<script type="text/javascript" src="https://prod-edxapp.edx-cdn.org/static/js/jquery.autocomplete.3bd10d7510d2.js"></script>
<script type="text/javascript" src="https://prod-edxapp.edx-cdn.org/static/js/src/tooltip_manager.da362490e199.js"></script>

<link href="https://prod-edxapp.edx-cdn.org/static/css/vendor/jquery.autocomplete.f95052778189.css" rel="stylesheet" type="text/css">
  

  

  


  


<script type="application/json" id="user-metadata">
    {"username": "epalace", "enrollment_mode": "verified", "upgrade_link": null, "user_id": 60068, "course_start": "2019-02-18T00:00:00+00:00", "course_end": "2019-04-21T00:00:00+00:00", "upgrade_deadline": null, "course_key_fields": {"org": "EPFLx", "run": "1T2019", "course": "scala-reactiveX"}, "partition_groups": {"Enrollment Track Groups": [2, "Verified Certificate"], "Feature-based Enrollments": [2, "Full-access Users"]}, "has_non_audit_enrollments": true, "pacing_type": "instructor_paced", "upgrade_price": "$50", "course_id": "course-v1:EPFLx+scala-reactiveX+1T2019", "has_staff_access": false, "forum_roles": [["Student"]], "enrollment_time": "2018-12-20T22:03:45+00:00", "schedule_start": null, "email": "epalace@gmail.com", "program_key_fields": null}
</script>

  

  

<script src=//cdn.optimizely.com/js/1743970571.js></script>

  


<!-- begin Segment -->
<script type="text/javascript">
  // Asynchronously load Segment's analytics.js library
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.1.0";
  analytics.load("8fncv13bt5");
  analytics.page();
  }}();
  // Note: user tracking moved to segment-io-footer.html
</script>
<!-- end Segment -->


  <meta name="path_prefix" content="">
  
    <meta name="google-site-verification" content="_mipQ4AtZQDNmbtOkwehQDOgCxUUV2fb_C0b6wbiRHY" />

  <meta name="openedx-release-line" content="master" />




    <script type="text/javascript">
        (function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode banner closeBanner creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode".split(" "), 0);
        branch.init('key_live_mfvq10qtrE7sjWpz2NHVNlnfrqamuY8u');
    </script>

</head>

<body class="ltr view-in-course view-courseware courseware  lang_en">


<div id="page-prompt"></div>
  <div class="window-wrap" dir="ltr">
    
    <a class="nav-skip sr-only sr-only-focusable" href="#main">Skip to main content</a>

        













<header class="global-header slim">
        
    

    <script type="text/javascript" src="https://prod-edxapp.edx-cdn.org/static/bundles/CookiePolicyBanner.fe631af4297905cdcfe5.13b564e86f3c.js" ></script>
    <script type="text/javascript" src="https://prod-edxapp.edx-cdn.org/static/bundles/ReactRenderer.22d478a3e2bdfb8bdd0c.aca4ea9b1784.js" ></script>

    <div id="cookie-policy-banner"></div>
    <script type="text/javascript">
      var c;
      try { c = CookiePolicyBanner; } catch (e) { c = null; }
      new ReactRenderer({
        component: c,
        selector: '#cookie-policy-banner',
        componentName: 'CookiePolicyBanner',
        props: {}
      });
    </script>

    <div class="main-header">
        





<h1 class="header-logo">
  <a href="https://www.edx.org">
    
    <img  class="logo" src="https://prod-edxapp.edx-cdn.org/static/edx.org/images/logo.790c9a5340cb.png" alt="edX Home Page"/>
    
  </a>
    <div class="course-header">
      <span class="provider">EPFLx:</span>
      <span class="course-number">scala-reactiveX</span>
      
      <span class="course-name">Programming Reactive Systems</span>
    </div>
</h1>

        <div class="hamburger-menu" role="button" aria-label=Options Menu aria-expanded="false" aria-controls="mobile-menu" tabindex="0">
            <span class="line"></span>
            <span class="line"></span>
            <span class="line"></span>
            <span class="line"></span>
        </div>
            








<div class="nav-links">
  <div class="main">

  </div>
  <div class="secondary">
    <div class="mobile-nav-item hidden-mobile nav-item">
        <a class="help-link" href="https://support.edx.org" target="_blank">Help</a>
    </div>
    






<div class="nav-item hidden-mobile">
    <a href="/dashboard" class="menu-title">
        <img class="user-image-frame" src="https://prod-edxapp.edx-cdn.org/static/edx.org/images/profiles/default_50.76570a4d025e.png" alt="">
        <span class="sr-only">Dashboard for:</span>
        <span class="username">epalace</span>
    </a>
</div>
<div class="nav-item hidden-mobile nav-item-dropdown" tabindex="-1">
    <div class="toggle-user-dropdown" role="button" aria-label=Options Menu aria-expanded="false" tabindex="0" aria-controls="user-menu">
        <span class="fa fa-caret-down" aria-hidden="true"></span>
    </div>
    <div class="dropdown-user-menu hidden" aria-label=More Options role="menu" id="user-menu" tabindex="-1">
            <div class="mobile-nav-item dropdown-item dropdown-nav-item"><a href="https://courses.edx.org/courses/course-v1:EPFLx+scala-reactiveX+1T2019/jump_to/block-v1:EPFLx+scala-reactiveX+1T2019+type@html+block@7ceb5b3e9599445ea2421c73a4c79982" role="menuitem">Resume your last course</a></div>
        <div class="mobile-nav-item dropdown-item dropdown-nav-item"><a href="/dashboard" role="menuitem">Dashboard</a></div>
        <div class="mobile-nav-item dropdown-item dropdown-nav-item"><a href="/u/epalace" role="menuitem">Profile</a></div>
        <div class="mobile-nav-item dropdown-item dropdown-nav-item"><a href="/account/settings" role="menuitem">Account</a></div>
        <div class="mobile-nav-item dropdown-item dropdown-nav-item"><a href="/logout" role="menuitem">Sign Out</a></div>
    </div>
</div>

  </div>
</div>



    </div>
    <div class="mobile-menu hidden" aria-label=More Options role="menu" id="mobile-menu"></div>
</header>

<!--[if lte IE 9]>
<div class="ie-banner" aria-hidden="true"><strong>Warning:</strong> Your browser is not fully supported. We strongly recommend using <a href="https://www.google.com/chrome" target="_blank">Chrome</a> or <a href="http://www.mozilla.org/firefox" target="_blank">Firefox</a>.</div>
<![endif]-->




        








    










    <div class="marketing-hero"></div>

    <div class="content-wrapper main-container" id="content" dir="ltr">
      













<script type="text/template" id="image-modal-tpl">
    <div class="wrapper-modal wrapper-modal-image">
  <section class="image-link">
    <%= smallHTML%>
    <a href="#" class="modal-ui-icon action-fullscreen" role="button">
      <span class="label">
        <span class="icon fa fa-arrows-alt fa-large" aria-hidden="true"></span> <%- gettext("Fullscreen") %>
      </span>
    </a>
  </section>

  <section class="image-modal">
    <section class="image-content">
      <div class="image-wrapper">
        <img alt="<%= largeALT %>, <%- gettext('Large') %>" src="<%= largeSRC %>" />
      </div>

      <a href="#" class="modal-ui-icon action-close" role="button">
        <span class="label">
          <span class="icon fa fa-remove fa-large" aria-hidden="true"></span> <%- gettext("Close") %>
        </span>
      </a>

      <ul class="image-controls">
        <li class="image-control">
          <a href="#" class="modal-ui-icon action-zoom-in" role="button">
            <span class="label">
              <span class="icon fa fa fa-search-plus fa-large" aria-hidden="true"></span> <%- gettext("Zoom In") %>
            </span>
          </a>
        </li>

        <li class="image-control">
          <a href="#" class="modal-ui-icon action-zoom-out is-disabled" aria-disabled="true" role="button">
            <span class="label">
              <span class="icon fa fa fa-search-minus fa-large" aria-hidden="true"></span> <%- gettext("Zoom Out") %>
            </span>
          </a>
        </li>
      </ul>
    </section>
  </section>
</div>

</script>








<div class="message-banner" aria-live="polite"></div>

  








    
        <nav class="courseware wrapper-course-material" aria-label="Course Material">
            <div class="course-material">
                
                <ol class="tabs course-tabs">
                    





  
  <li class="tab">
  <a href="/courses/course-v1:EPFLx+scala-reactiveX+1T2019/course/" class="active">
  Course
      <span class="sr">, current location</span>
  </a>
  </li>
  
  <li class="tab">
  <a href="/courses/course-v1:EPFLx+scala-reactiveX+1T2019/discussion/forum/" class="">
  Discussion
  </a>
  </li>
  
  <li class="tab">
  <a href="/courses/course-v1:EPFLx+scala-reactiveX+1T2019/6c4ec266ee24467c9745009ba131f3da/" class="">
  Resources
  </a>
  </li>
  
  <li class="tab">
  <a href="/courses/course-v1:EPFLx+scala-reactiveX+1T2019/progress" class="">
  Progress
  </a>
  </li>
  
  <li class="tab">
  <a href="/courses/course-v1:EPFLx+scala-reactiveX+1T2019/edxnotes/" class="">
  Notes
  </a>
  </li>

                    
                </ol>
            </div>
        </nav>


<div class="container"
    lang="en"
  >
  <div class="course-wrapper" role="presentation">

    <section class="course-content" id="course-content">
        <header class="page-header has-secondary">
            <div class="page-header-main">
                <nav aria-label="Course" class="sr-is-focusable" tabindex="-1">
                    <div class="has-breadcrumbs">
                        <div class="breadcrumbs">
                                <span class="nav-item nav-item-course">
                                    <a href="/courses/course-v1:EPFLx+scala-reactiveX+1T2019/course/">Course</a>
                                </span>
                                <span class="icon fa fa-angle-right" aria-hidden="true"></span>
                                <span class="nav-item nav-item-chapter" data-course-position="6" data-chapter-position="4">
                                    <a href="/courses/course-v1:EPFLx+scala-reactiveX+1T2019/course/#block-v1:EPFLx+scala-reactiveX+1T2019+type@chapter+block@0cef6ee9d8794d9b9203638ffc642dc9">Handling Failure and State</a>
                                </span>
                                <span class="icon fa fa-angle-right" aria-hidden="true"></span>
                                <span class="nav-item nav-item-section">
                                    <a href="/courses/course-v1:EPFLx+scala-reactiveX+1T2019/course/#block-v1:EPFLx+scala-reactiveX+1T2019+type@sequential+block@29a6d5c11cdc4725bf290c2cc10104c2">Replicated Key-Value Store (verified track)</a>
                                </span>
                                <span class="icon fa fa-angle-right" aria-hidden="true"></span>
                            <span class="nav-item nav-item-sequence">Assignment</span>
                        </div>
                    </div>
                </nav>
            </div>
        </header>

        <main id="main" tabindex="-1" aria-label="Content">

              
<div class="xblock xblock-student_view xblock-student_view-sequential xmodule_display xmodule_SequenceModule" data-graded="True" data-has-score="False" data-runtime-class="LmsRuntime" data-init="XBlockToXModuleShim" data-block-type="sequential" data-request-token="2f994cca57c111e99f8c0af8f459feb8" data-runtime-version="1" data-usage-id="block-v1:EPFLx+scala-reactiveX+1T2019+type@sequential+block@29a6d5c11cdc4725bf290c2cc10104c2" data-type="Sequence" data-course-id="course-v1:EPFLx+scala-reactiveX+1T2019">
  <script type="json/xblock-args" class="xblock-json-init-args">
    {"xmodule-type": "Sequence"}
  </script>
  


<div id="sequence_29a6d5c11cdc4725bf290c2cc10104c2" class="sequence" data-id="block-v1:EPFLx+scala-reactiveX+1T2019+type@sequential+block@29a6d5c11cdc4725bf290c2cc10104c2"
     data-position="1" data-ajax-url="/courses/course-v1:EPFLx+scala-reactiveX+1T2019/xblock/block-v1:EPFLx+scala-reactiveX+1T2019+type@sequential+block@29a6d5c11cdc4725bf290c2cc10104c2/handler/xmodule_handler"
     data-next-url="/courses/course-v1:EPFLx+scala-reactiveX+1T2019/courseware/0cef6ee9d8794d9b9203638ffc642dc9/631c8726ad6f44dfb53f6ace8a17e6c2/?child=first" data-prev-url="/courses/course-v1:EPFLx+scala-reactiveX+1T2019/courseware/0cef6ee9d8794d9b9203638ffc642dc9/d2bfa4da87424d389cbfffb66761d7d0/?child=last"
     data-save-position="true"
     data-show-completion="true"
>

  <div class="sequence-nav">
    <button class="sequence-nav-button button-previous">
      <span class="icon fa fa-chevron-prev" aria-hidden="true"></span>
      <span class="sequence-nav-button-label">Previous</span>
    </button>
    <button class="sequence-nav-button button-next">
      <span class="sequence-nav-button-label">Next</span>
      <span class="icon fa fa-chevron-next" aria-hidden="true"></span>
    </button>
    <nav class="sequence-list-wrapper" aria-label="Sequence">
      <ol id="sequence-list" role="tablist">
        <li role="presentation">
          <button class="seq_problem inactive nav-item tab"
            role="tab"
            tabindex="-1"
            aria-selected="false"
            aria-expanded="false"
            aria-controls="seq_content"
            data-index="0"
            data-id="block-v1:EPFLx+scala-reactiveX+1T2019+type@vertical+block@d974537dc5174f349100339a96f7cf3b"
            data-element="1"
            data-page-title="Assignment"
            data-path="Handling Failure and State &gt; Replicated Key-Value Store (verified track) &gt; Assignment"
            data-graded="True"
            id="tab_0">
            <span class="icon fa seq_problem" aria-hidden="true"></span>
              <span 
                class="fa fa-check-circle check-circle " 
                style="color:green"
                aria-hidden="true"
              ></span>
            <span class="fa fa-fw fa-bookmark bookmark-icon is-hidden" aria-hidden="true"></span>
            <div class="sequence-tooltip sr"><span class="sr">problem&nbsp;</span>Assignment<span class="sr bookmark-icon-sr">&nbsp;</span></div>
          </button>
        </li>
      </ol>
    </nav>
  </div>
  <div class="sr-is-focusable" tabindex="-1"></div>

  <div id="seq_contents_0"
    aria-labelledby="tab_0"
    aria-hidden="true"
    class="seq_contents tex2jax_ignore asciimath2jax_ignore">
    
&lt;div class=&#34;xblock xblock-student_view xblock-student_view-vertical&#34; data-graded=&#34;True&#34; data-has-score=&#34;False&#34; data-runtime-class=&#34;LmsRuntime&#34; data-init=&#34;VerticalStudentView&#34; data-course-id=&#34;course-v1:EPFLx+scala-reactiveX+1T2019&#34; data-request-token=&#34;2f994cca57c111e99f8c0af8f459feb8&#34; data-runtime-version=&#34;1&#34; data-usage-id=&#34;block-v1:EPFLx+scala-reactiveX+1T2019+type@vertical+block@d974537dc5174f349100339a96f7cf3b&#34; data-block-type=&#34;vertical&#34;&gt;
  

  &lt;h2 class=&#34;hd hd-2 unit-title&#34;&gt;Assignment&lt;/h2&gt;

    



&lt;div class=&#34;bookmark-button-wrapper&#34;&gt;
  &lt;button class=&#34;btn btn-link bookmark-button &#34;
    aria-pressed=&#34;false&#34;
    data-bookmark-id=&#34;epalace,block-v1:EPFLx+scala-reactiveX+1T2019+type@vertical+block@d974537dc5174f349100339a96f7cf3b&#34;
    data-bookmarks-api-url=&#34;/api/bookmarks/v1/bookmarks/&#34;&gt;
     &lt;span class=&#34;bookmark-text&#34;&gt;Bookmark this page&lt;/span&gt;
    &lt;/button&gt;
&lt;/div&gt;


&lt;div class=&#34;vert-mod&#34;&gt;
    &lt;div class=&#34;vert vert-0&#34; data-id=&#34;block-v1:EPFLx+scala-reactiveX+1T2019+type@html+block@a82bde4831384de289eac542647b16db&#34;&gt;
        
&lt;div class=&#34;xblock xblock-student_view xblock-student_view-html xmodule_display xmodule_HtmlModule&#34; data-graded=&#34;True&#34; data-has-score=&#34;False&#34; data-runtime-class=&#34;LmsRuntime&#34; data-init=&#34;XBlockToXModuleShim&#34; data-block-type=&#34;html&#34; data-request-token=&#34;2f994cca57c111e99f8c0af8f459feb8&#34; data-runtime-version=&#34;1&#34; data-usage-id=&#34;block-v1:EPFLx+scala-reactiveX+1T2019+type@html+block@a82bde4831384de289eac542647b16db&#34; data-type=&#34;HTMLModule&#34; data-course-id=&#34;course-v1:EPFLx+scala-reactiveX+1T2019&#34;&gt;
  &lt;script type=&#34;json/xblock-args&#34; class=&#34;xblock-json-init-args&#34;&gt;
    {&#34;xmodule-type&#34;: &#34;HTMLModule&#34;}
  &lt;/script&gt;
  






&lt;div id=&#34;edx-notes-wrapper-206038985433917571625996208150699913493&#34; class=&#34;edx-notes-wrapper&#34;&gt;
    &lt;div class=&#34;edx-notes-wrapper-content&#34;&gt;&lt;div id=&#34;readme&#34; class=&#34;readme blob instapaper_body&#34;&gt;
&lt;article class=&#34;markdown-body entry-content&#34; itemprop=&#34;text&#34;&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; This assignment is two weeks long, there will be no new assignment in week 4. The submission deadlines have been extended accordingly, we recommend not rushing this exercise and solving it in several steps as you see fit.&lt;/p&gt;
&lt;p&gt;To get started, &lt;a href=&#34;http://alaska.epfl.ch/%7Edockermoocs/handouts-edx/reactive-kvstore.zip&#34; target=&#34;[object Object]&#34;&gt;download the reactive-kvstore.zip&lt;/a&gt; handout archive file and extract it somewhere on your machine.&lt;/p&gt;
&lt;h2&gt;Simple Replicated Key-Value store&lt;/h2&gt;
&lt;p&gt;A key-value store is a very simple form of a database. Its entries are key-value pairs, the key part acting as a unique identifier, and the value being arbitrary data. In recent years, distributed versions of key-value stores have become very popular. Your task in this assignment is to implement a distributed, replicated storage of key-value pairs. Each node (the replicas) in this distributed system will be represented by one actor. You will also have to define some helper actors.&lt;/p&gt;
&lt;p&gt;In the simplified version that we will examine, your system will include a primary node (the primary replica), which will be responsible for replicating all changes to a set of secondary nodes (the secondary replicas). The primary and the secondary replica nodes will form a distributed database, where potential replica nodes might join and leave at arbitrary times.&lt;/p&gt;
&lt;p&gt;The primary replica will be the only one accepting modification events (insertions and removals) and replicate its current state to the secondaries. Both the primary and the secondary replicas will accept lookup (read) events, although the secondary nodes will be allowed to give results that are &#34;out-of-date&#34; since it takes time for the replicas to keep up with the changes on the primary replica.&lt;/p&gt;
&lt;p&gt;Compared to a full real-world solution several restricting assumptions are made about the system to make the problem easier to solve:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Updates are only possible on a dedicated node, the primary replica.&lt;/li&gt;
&lt;li&gt;The primary (leader) node does not fail during the uptime of the system.&lt;/li&gt;
&lt;li&gt;Membership is handled reliably by a provided subsystem (see &lt;g class=&#34;gr_ gr_351 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar only-ins doubleReplace replaceWithoutSep&#34; id=&#34;351&#34; data-gr-id=&#34;351&#34;&gt;section&lt;/g&gt; &#34;The Arbiter&#34;).&lt;/li&gt;
&lt;li&gt;The update rate is low, meaning that no incoming requests need to be rejected due to system overload.&lt;/li&gt;
&lt;li&gt;In case of rejecting an &lt;g class=&#34;gr_ gr_383 gr-alert gr_gramm gr_inline_cards gr_run_anim Punctuation only-ins replaceWithoutSep&#34; id=&#34;383&#34; data-gr-id=&#34;383&#34;&gt;update&lt;/g&gt; the store is left in a possibly inconsistent state which may require a subsequent succeeding write to the same key to repair it.&lt;/li&gt;
&lt;li&gt;Clients are expected to not reuse request IDs before the request has been fully processed and responded to.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For a more detailed discussion of these restrictions and on how lifting them would affect the solution please refer to the last section below.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;This is a complex assignment. Please read the whole description before attempting to solve the exercise.&lt;/strong&gt; In the last section you will find a step-by-step list of which subtasks you need to solve in order to have a complete solution. If you are unable to arrive at a full solution due to time constraints, don&amp;rsquo;t despair, for you will have learnt a lot along the way.&lt;/p&gt;
&lt;h3&gt;Overview of the system components&lt;/h3&gt;
&lt;p&gt;The key-value store and its environment consists of the following components:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;The clustered key-value store:&lt;/strong&gt; A set of nodes that store &lt;g class=&#34;gr_ gr_329 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace&#34; id=&#34;329&#34; data-gr-id=&#34;329&#34;&gt;key value&lt;/g&gt; pairs in a distributed fashion, cooperating to maintain a certain set of guarantees (specified in section &lt;em&gt;&amp;ldquo;System Behavior - Consistency guarantees&amp;rdquo;&lt;/em&gt;). This cluster of nodes consists of replicas and the provided &lt;code&gt;Arbiter&lt;/code&gt; and &lt;code&gt;Persistence&lt;/code&gt; modules:
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Primary replica&lt;/strong&gt; A distinguished node in the cluster that accepts updates to keys and propagates the changes to secondary replicas.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Secondary replicas&lt;/strong&gt; Nodes that are in contact with the primary replica, accepting updates from it and serving clients for read-only operations.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Arbiter:&lt;/strong&gt; A subsystem that is provided in this exercise and which assigns the primary or secondary roles to your nodes.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Persistence:&lt;/strong&gt; A subsystem that is provided in this exercise and which offers to persist updates to stable storage, but might fail spuriously.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Clients:&lt;/strong&gt; Entities that communicate with one of the replicas to update or read key-value pairs.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You are encouraged to use additional actors in your solution as you see fit.&lt;/p&gt;
&lt;h3&gt;Clients and The KV Protocol&lt;/h3&gt;
&lt;p&gt;Clients are external entities contacting the replica set (your cluster) for reading and writing key-value pairs. It is your responsibility to maintain the consistency guarantees for clients that are described in the next section. Each node participating in the key-value store (primary and secondaries) provides an interface for clients. This interface is a set of messages and corresponding answers that together form the KV Protocol.&lt;/p&gt;
&lt;p&gt;The KV Protocol itself contains two subsets of operations:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Update operations (insertion and removal).&lt;/li&gt;
&lt;li&gt;Lookup operation.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Clients contacting the primary node directly can use all operations on the key-value store, while clients contacting the secondaries can only use lookups.&lt;/p&gt;
&lt;p&gt;The two set of operations in detail are:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update Commands&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Insert(key, value, id)&lt;/code&gt; - This message instructs the primary to insert the (key, value) pair into the storage and replicate it to the secondaries: &lt;code&gt;id&lt;/code&gt; is a client-chosen unique identifier for this request.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Remove(key, id)&lt;/code&gt; - This message instructs the primary to remove the key (and its corresponding value) from the storage and then remove it from the secondaries.&lt;/li&gt;
&lt;li&gt;A &lt;g class=&#34;gr_ gr_333 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;333&#34; data-gr-id=&#34;333&#34;&gt;successful &lt;/g&gt;&lt;code&gt;Insert&lt;/code&gt;&lt;g class=&#34;gr_ gr_333 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;333&#34; data-gr-id=&#34;333&#34;&gt; &lt;/g&gt;&lt;g class=&#34;gr_ gr_334 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;334&#34; data-gr-id=&#34;334&#34;&gt;&lt;g class=&#34;gr_ gr_333 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;333&#34; data-gr-id=&#34;333&#34;&gt;or&lt;/g&gt; &lt;/g&gt;&lt;code&gt;Remove&lt;/code&gt;&lt;g class=&#34;gr_ gr_334 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;334&#34; data-gr-id=&#34;334&#34;&gt; results&lt;/g&gt; in a reply to the client (precisely: to &lt;g class=&#34;gr_ gr_335 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;335&#34; data-gr-id=&#34;335&#34;&gt;the &lt;/g&gt;&lt;code&gt;sender&lt;/code&gt;&lt;g class=&#34;gr_ gr_335 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;335&#34; data-gr-id=&#34;335&#34;&gt; of&lt;/g&gt; the update command) in the form of &lt;g class=&#34;gr_ gr_331 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar multiReplace&#34; id=&#34;331&#34; data-gr-id=&#34;331&#34;&gt;&lt;g class=&#34;gr_ gr_336 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;336&#34; data-gr-id=&#34;336&#34;&gt;an &lt;/g&gt;&lt;/g&gt;&lt;code&gt;OperationAck(id)&lt;/code&gt;&lt;g class=&#34;gr_ gr_331 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Grammar multiReplace&#34; id=&#34;331&#34; data-gr-id=&#34;331&#34;&gt;&lt;g class=&#34;gr_ gr_336 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;336&#34; data-gr-id=&#34;336&#34;&gt;&lt;/g&gt;&lt;g class=&#34;gr_ gr_336 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;336&#34; data-gr-id=&#34;336&#34;&gt; message&lt;/g&gt;&lt;/g&gt; where &lt;g class=&#34;gr_ gr_337 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;337&#34; data-gr-id=&#34;337&#34;&gt;the &lt;/g&gt;&lt;code&gt;id&lt;/code&gt;&lt;g class=&#34;gr_ gr_337 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;337&#34; data-gr-id=&#34;337&#34;&gt; field&lt;/g&gt; matches the corresponding id field of the operation that has been acknowledged.&lt;/li&gt;
&lt;li&gt;A failed &lt;code&gt;Insert&lt;/code&gt; or &lt;code&gt;Remove&lt;/code&gt; command results in an &lt;code&gt;OperationFailed(id)&lt;/code&gt; reply. A failure is defined as the inability to confirm the operation within 1 second. See the sections on replication and persistence below for more details.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Lookup&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Get(key, id)&lt;/code&gt; - Instructs the replica to look up the &#34;current&#34; (what current means is described in detail in the next section) value assigned with the key in the storage and reply with the stored value.&lt;/li&gt;
&lt;li&gt;A &lt;code&gt;Get&lt;/code&gt; operation results in a &lt;code&gt;GetResult(key, valueOption, id)&lt;/code&gt; message to be sent back to the &lt;code&gt;sender&lt;/code&gt; of the lookup request where the &lt;code&gt;id&lt;/code&gt; field matches the value in the &lt;code&gt;id&lt;/code&gt; field of the corresponding &lt;code&gt;Get&lt;/code&gt; message. The &lt;code&gt;valueOption&lt;/code&gt; field should contain &lt;code&gt;None&lt;/code&gt; if the key is not present in the replica or &lt;code&gt;Some(value)&lt;/code&gt; if a value is currently assigned to the given key in that replica.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;All replies sent by the Replica shall have that Replica as &lt;g class=&#34;gr_ gr_353 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;353&#34; data-gr-id=&#34;353&#34;&gt;&lt;g class=&#34;gr_ gr_352 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar multiReplace&#34; id=&#34;352&#34; data-gr-id=&#34;352&#34;&gt;their&lt;/g&gt; &lt;/g&gt;&lt;code&gt;sender&lt;/code&gt;&lt;g class=&#34;gr_ gr_353 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;353&#34; data-gr-id=&#34;353&#34;&gt;.&lt;/g&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h3&gt;System Behavior - Consistency guarantees&lt;/h3&gt;
&lt;p&gt;Let&#39;s assume the scenario that one client issues the following commands to the primary replica (starting from empty storage), &lt;strong&gt;waiting for successful acknowledgement of each operation before proceeding with the next&lt;/strong&gt; (see further below for the case of not awaiting confirmation):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Insert(&#34;key1&#34;, &#34;a&#34;)
Insert(&#34;key2&#34;, &#34;1&#34;)
Insert(&#34;key1&#34;, &#34;b&#34;)
Insert(&#34;key2&#34;, &#34;2&#34;)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;Ordering guarantees for clients contacting the primary replica&lt;/h4&gt;
&lt;p&gt;A second client reading directly from the primary is not allowed to see:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;key1&lt;/code&gt; containing &lt;code&gt;b&lt;/code&gt; and then containing &lt;code&gt;a&lt;/code&gt; &lt;em&gt;(since &lt;code&gt;a&lt;/code&gt; was written before &lt;code&gt;b&lt;/code&gt; for &lt;code&gt;key1&lt;/code&gt;)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;key2&lt;/code&gt; containing &lt;code&gt;2&lt;/code&gt; and then containing &lt;code&gt;1&lt;/code&gt; &lt;em&gt;(since &lt;code&gt;1&lt;/code&gt; was written before &lt;code&gt;2&lt;/code&gt; for &lt;code&gt;key2&lt;/code&gt;)&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In other words, this second client sees the updates in order (although it might miss some updates, so it might see the value &lt;code&gt;2&lt;/code&gt; for &lt;code&gt;key2&lt;/code&gt; immediately without seeing the intermediate value &lt;code&gt;1&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;In contrast, the second client may observe&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;key1&lt;/code&gt; containing &lt;code&gt;b&lt;/code&gt; and then &lt;code&gt;key2&lt;/code&gt; &lt;g class=&#34;gr_ gr_389 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling only-del replaceWithoutSep&#34; id=&#34;389&#34; data-gr-id=&#34;389&#34;&gt;containing &lt;/g&gt;&lt;code&gt;1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;key2&lt;/code&gt;&lt;g class=&#34;gr_ gr_389 gr-alert gr_spell gr_inline_cards gr_disable_anim_appear ContextualSpelling only-del replaceWithoutSep&#34; id=&#34;389&#34; data-gr-id=&#34;389&#34;&gt; containing&lt;/g&gt; &lt;code&gt;2&lt;/code&gt; and then &lt;code&gt;key1&lt;/code&gt; containing &lt;code&gt;a&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This means that the ordering guarantee only applies between reads and write &lt;em&gt;to the same key&lt;/em&gt;, not across keys. The store may choose to provide stronger semantics to respect ordering across different keys, but clients will not be able to rely on this; the reason is that lifting the restriction of having only one non-failing primary replica would require breaking these stronger guarantees.&lt;/p&gt;
&lt;h4&gt;Ordering guarantees for clients contacting a secondary replica&lt;/h4&gt;
&lt;p&gt;For a second client reading from one of the secondary replicas (during a conversation, the replica does not change) the exact same requirements apply as if that client was reading from the primary, with the following addition:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;it must be guaranteed that a client reading from a secondary replica will eventually see the following (at some point in the future):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;key1&lt;/code&gt; containing &lt;code&gt;b&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;key2&lt;/code&gt; containing &lt;code&gt;2&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Ordering guarantees for clients contacting different replicas&lt;/h4&gt;
&lt;p&gt;If a second client asks different replicas for the same key, it may observe different values during the time window when an update is disseminated. The client asking for &lt;code&gt;key1&lt;/code&gt; might see&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;answer &lt;code&gt;b&lt;/code&gt; from one replica&lt;/li&gt;
&lt;li&gt;and subsequently answer &lt;code&gt;a&lt;/code&gt; from a different replica&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As per the rule stated in the previous section, and assuming that the client keeps asking repeatedly, eventually all reads will result in the value &lt;code&gt;b&lt;/code&gt; if no other updates are done on &lt;code&gt;key1&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Eventual consistency&lt;/em&gt; means that given enough time, all replicas settle on the same view. This also means that when you design your system &lt;strong&gt;clients contacting multiple replicas at the same time are not required to see any particular ordering.&lt;/strong&gt; You do not need to design your solution for such scenarios and the grading system will not test these either.&lt;/p&gt;
&lt;h4&gt;Durability guarantees of updates for clients contacting the primary replica&lt;/h4&gt;
&lt;p&gt;The previous two sections prescribed possible transitions that the clients are allowed to experience on key updates. In this section, we will see what guarantees acknowledgement messages must obey (on the primary replica).&lt;/p&gt;
&lt;p&gt;Whenever the primary replica receives an update operation (&lt;g class=&#34;gr_ gr_347 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;347&#34; data-gr-id=&#34;347&#34;&gt;either &lt;/g&gt;&lt;code&gt;Insert&lt;/code&gt;&lt;g class=&#34;gr_ gr_347 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;347&#34; data-gr-id=&#34;347&#34;&gt; or&lt;/g&gt; &lt;code&gt;Remove&lt;/code&gt;) it &lt;strong&gt;must&lt;/strong&gt; reply with &lt;g class=&#34;gr_ gr_348 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;348&#34; data-gr-id=&#34;348&#34;&gt;an &lt;/g&gt;&lt;code&gt;OperationAck(id)&lt;/code&gt;&lt;g class=&#34;gr_ gr_348 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;348&#34; data-gr-id=&#34;348&#34;&gt; &lt;/g&gt;&lt;g class=&#34;gr_ gr_349 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;349&#34; data-gr-id=&#34;349&#34;&gt;&lt;g class=&#34;gr_ gr_348 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;348&#34; data-gr-id=&#34;348&#34;&gt;or&lt;/g&gt; &lt;/g&gt;&lt;code&gt;OperationFailed(id)&lt;/code&gt;&lt;g class=&#34;gr_ gr_349 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;349&#34; data-gr-id=&#34;349&#34;&gt; message&lt;/g&gt;, to be sent at most 1 second after the update command was processed (the ActorSystem&amp;rsquo;s timer resolution is deemed to be sufficiently precise for this).&lt;/p&gt;
&lt;p&gt;A positive &lt;code&gt;OperationAck&lt;/code&gt; reply must be sent as soon as&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;the change in question has been handed down to the &lt;code&gt;Persistence&lt;/code&gt; module (provided) &lt;strong&gt;and&lt;/strong&gt; a corresponding acknowledgement has been received from it &lt;em&gt;(the persistence module is &#34;flaky&#34;&amp;mdash;it fails randomly from time to time&amp;mdash;and it is your task to keep it alive while retrying unacknowledged persistence operations until they succeed, see the persistence section for details)&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;replication of the change in question has been initiated &lt;strong&gt;and&lt;/strong&gt; all of the secondary replicas have acknowledged the replication of the update.&lt;/p&gt;
&lt;p&gt;If replicas leave the cluster, which is signalled by sending a new &lt;code&gt;Replicas&lt;/code&gt; message to the primary, then outstanding acknowledgements of these replicas must be waived. This can lead to the generation of an &lt;code&gt;OperationAck&lt;/code&gt; triggered indirectly by the &lt;code&gt;Replicas&lt;/code&gt; message.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A &lt;g class=&#34;gr_ gr_358 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;358&#34; data-gr-id=&#34;358&#34;&gt;negative &lt;/g&gt;&lt;code&gt;OperationFailed&lt;/code&gt;&lt;g class=&#34;gr_ gr_358 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;358&#34; data-gr-id=&#34;358&#34;&gt; reply&lt;/g&gt; must be sent if the conditions for sending &lt;g class=&#34;gr_ gr_359 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;359&#34; data-gr-id=&#34;359&#34;&gt;an &lt;/g&gt;&lt;code&gt;OperationAck&lt;/code&gt;&lt;g class=&#34;gr_ gr_359 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;359&#34; data-gr-id=&#34;359&#34;&gt; are&lt;/g&gt; not met within the 1 second maximum response time.&lt;/p&gt;
&lt;h4&gt;Consistency in the case of failed replication or persistence&lt;/h4&gt;
&lt;p&gt;Assuming in the above scenario that the last write fails (i.e. an &lt;code&gt;OperationFailed&lt;/code&gt; is returned), replication to some replicas may have been successful while it failed on others. Therefore in this case the property that eventually all replicas converge on the same value for &lt;code&gt;key2&lt;/code&gt; is not provided by this simplified &lt;g class=&#34;gr_ gr_325 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace&#34; id=&#34;325&#34; data-gr-id=&#34;325&#34;&gt;key&amp;ndash;value&lt;/g&gt; store. In order to restore consistency a later write to &lt;code&gt;key2&lt;/code&gt; would have to succeed. Lifting this restriction is an interesting exercise on its own, but it is outside of the scope of this course.&lt;/p&gt;
&lt;p&gt;One consequence of this restriction is that each replica uses this freedom to immediately hand out the updated value to subsequently reading clients, even before &lt;g class=&#34;gr_ gr_339 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling replaceWithoutSep&#34; id=&#34;339&#34; data-gr-id=&#34;339&#34;&gt;the the new&lt;/g&gt; value has been persisted locally, and no rollback is attempted in case of failure.&lt;/p&gt;
&lt;h4&gt;Which value to expect while an update is outstanding?&lt;/h4&gt;
&lt;p&gt;Sending an update request for a key followed by a &lt;code&gt;Get&lt;/code&gt; request for the same key without waiting for the acknowledgement of the update is allowed to return either the old or the new value (or a third value if another client concurrently updates the same key). An example, assuming only this one client at this time:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Insert(&#34;key1&#34;, &#34;a&#34;)
&amp;lt;await confirmation&amp;gt;
Insert(&#34;key1&#34;, &#34;b&#34;)
Get(&#34;key1&#34;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The replies for the last two requests may arrive in any order, and the reply for the &lt;code&gt;Get&lt;/code&gt; request may either contain &lt;code&gt;&#34;a&#34;&lt;/code&gt; or &lt;code&gt;&#34;b&#34;&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;The Arbiter&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;Arbiter&lt;/code&gt; is an external subsystem that will be provided for use. The Arbiter follows a simple protocol:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;New replicas must first send a &lt;code&gt;Join&lt;/code&gt; message to the &lt;code&gt;Arbiter&lt;/code&gt; signaling that they are ready to be used.&lt;/li&gt;
&lt;li&gt;&lt;g class=&#34;gr_ gr_395 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;395&#34; data-gr-id=&#34;395&#34;&gt;The &lt;/g&gt;&lt;code&gt;Join&lt;/code&gt;&lt;g class=&#34;gr_ gr_395 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;395&#34; data-gr-id=&#34;395&#34;&gt; message&lt;/g&gt; will be answered by either a &lt;code&gt;JoinedPrimary&lt;/code&gt; &lt;g class=&#34;gr_ gr_396 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;396&#34; data-gr-id=&#34;396&#34;&gt;or &lt;/g&gt;&lt;code&gt;JoinedSecondary&lt;/code&gt;&lt;g class=&#34;gr_ gr_396 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;396&#34; data-gr-id=&#34;396&#34;&gt; message&lt;/g&gt; indicating the role of the new node; the answer will be sent to &lt;g class=&#34;gr_ gr_397 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;397&#34; data-gr-id=&#34;397&#34;&gt;the &lt;/g&gt;&lt;code&gt;sender&lt;/code&gt;&lt;g class=&#34;gr_ gr_397 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;397&#34; data-gr-id=&#34;397&#34;&gt; of&lt;/g&gt; &lt;g class=&#34;gr_ gr_398 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;398&#34; data-gr-id=&#34;398&#34;&gt;the &lt;/g&gt;&lt;code&gt;Join&lt;/code&gt;&lt;g class=&#34;gr_ gr_398 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;398&#34; data-gr-id=&#34;398&#34;&gt; message&lt;/g&gt;. The first node to join will get the primary role, other subsequent nodes are assigned the secondary role.&lt;/li&gt;
&lt;li&gt;The arbiter will send a &lt;code&gt;Replicas&lt;/code&gt; message to the primary replica whenever it receives &lt;g class=&#34;gr_ gr_380 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;380&#34; data-gr-id=&#34;380&#34;&gt;the &lt;/g&gt;&lt;code&gt;Join&lt;/code&gt;&lt;g class=&#34;gr_ gr_380 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;380&#34; data-gr-id=&#34;380&#34;&gt; message&lt;/g&gt;; for this &lt;g class=&#34;gr_ gr_379 gr-alert gr_gramm gr_inline_cards gr_run_anim Punctuation only-ins replaceWithoutSep&#34; id=&#34;379&#34; data-gr-id=&#34;379&#34;&gt;reason&lt;/g&gt; &lt;g class=&#34;gr_ gr_381 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;381&#34; data-gr-id=&#34;381&#34;&gt;the &lt;/g&gt;&lt;code&gt;sender&lt;/code&gt;&lt;g class=&#34;gr_ gr_381 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;381&#34; data-gr-id=&#34;381&#34;&gt; of&lt;/g&gt; &lt;g class=&#34;gr_ gr_382 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;382&#34; data-gr-id=&#34;382&#34;&gt;the &lt;/g&gt;&lt;code&gt;Join&lt;/code&gt;&lt;g class=&#34;gr_ gr_382 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;382&#34; data-gr-id=&#34;382&#34;&gt; message&lt;/g&gt; must be the replica Actor itself. This message contains the set of available replica nodes including the primary and all the secondaries.&lt;/li&gt;
&lt;li&gt;All messages sent by the Arbiter will have the Arbiter as &lt;g class=&#34;gr_ gr_355 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;355&#34; data-gr-id=&#34;355&#34;&gt;&lt;g class=&#34;gr_ gr_354 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar multiReplace&#34; id=&#34;354&#34; data-gr-id=&#34;354&#34;&gt;their&lt;/g&gt; &lt;/g&gt;&lt;code&gt;sender&lt;/code&gt;&lt;g class=&#34;gr_ gr_355 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;355&#34; data-gr-id=&#34;355&#34;&gt;.&lt;/g&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;The Replicas&lt;/h3&gt;
&lt;p&gt;You have to provide an Actor representing a node of the system. Its declaration is:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;class Replica(val arbiter: ActorRef) extends Actor
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Please note that in this exercise the nodes (i.e. actors) are executed within the same JVM, but the problems and their solutions apply equally when distributing the system across multiple network hosts.&lt;/p&gt;
&lt;p&gt;When your actor starts, it must send a &lt;code&gt;Join&lt;/code&gt; message to the Arbiter and then choose between primary or secondary behavior according to the reply of &lt;g class=&#34;gr_ gr_365 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;365&#34; data-gr-id=&#34;365&#34;&gt;the &lt;/g&gt;&lt;code&gt;Arbiter&lt;/code&gt;&lt;g class=&#34;gr_ gr_365 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;365&#34; data-gr-id=&#34;365&#34;&gt; to&lt;/g&gt; &lt;g class=&#34;gr_ gr_367 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;367&#34; data-gr-id=&#34;367&#34;&gt;the &lt;/g&gt;&lt;code&gt;Join&lt;/code&gt;&lt;g class=&#34;gr_ gr_367 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;367&#34; data-gr-id=&#34;367&#34;&gt; message&lt;/g&gt; (a &lt;code&gt;JoinedPrimary&lt;/code&gt; &lt;g class=&#34;gr_ gr_368 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;368&#34; data-gr-id=&#34;368&#34;&gt;or &lt;/g&gt;&lt;code&gt;JoinedSecondary&lt;/code&gt;&lt;g class=&#34;gr_ gr_368 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;368&#34; data-gr-id=&#34;368&#34;&gt; message&lt;/g&gt;).&lt;/p&gt;
&lt;p&gt;The primary replica must provide the following features:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The primary must accept update and lookup operations from clients following the Key-Value protocol &lt;g class=&#34;gr_ gr_343 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;343&#34; data-gr-id=&#34;343&#34;&gt;like &lt;/g&gt;&lt;code&gt;Insert&lt;/code&gt;&lt;g class=&#34;gr_ gr_343 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;343&#34; data-gr-id=&#34;343&#34;&gt;,&lt;/g&gt; &lt;code&gt;Remove&lt;/code&gt; &lt;g class=&#34;gr_ gr_342 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace&#34; id=&#34;342&#34; data-gr-id=&#34;342&#34;&gt;or &lt;/g&gt;&lt;code&gt;Get&lt;/code&gt;&lt;g class=&#34;gr_ gr_342 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace&#34; id=&#34;342&#34; data-gr-id=&#34;342&#34;&gt; as&lt;/g&gt; it is described in the &lt;em&gt;&amp;ldquo;Clients and The KV Protocol&amp;rdquo;&lt;/em&gt; section, respecting the consistency guarantees described in &lt;em&gt;&amp;ldquo;Guarantees for clients contacting the primary replica&amp;rdquo;&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;The primary must replicate changes to the secondary replicas of the system. It must also react to changes in membership (whenever it gets a &lt;code&gt;Replicas&lt;/code&gt; message from the &lt;code&gt;Arbiter&lt;/code&gt;) and start replicating to newly joined nodes, and stop replication to nodes that have left; the latter implies terminating the corresponding &lt;code&gt;Replicator&lt;/code&gt; actor. More details can be found in the section &lt;em&gt;&amp;ldquo;Replication Protocol&amp;rdquo;&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The secondary replicas must provide the following features:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The secondary nodes must accept the lookup operation (&lt;code&gt;Get&lt;/code&gt;) from clients following the Key-Value protocol while respecting the guarantees described in &lt;em&gt;&amp;ldquo;Guarantees for clients contacting the secondary replica&amp;rdquo;&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;The replica nodes must accept replication events, updating their current state (see &lt;em&gt;&amp;ldquo;Replication Protocol&amp;rdquo;&lt;/em&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;The Replication Protocol&lt;/h3&gt;
&lt;p&gt;Apart from providing the KV protocol for external clients, you must implement another protocol involving the primary and secondary replicas and some newly introduced helper nodes. The KV store will use this protocol to synchronize its state between nodes.&lt;/p&gt;
&lt;p&gt;When a new replica joins the system, the primary receives a new &lt;code&gt;Replicas&lt;/code&gt; message and must allocate a new actor of type &lt;code&gt;Replicator&lt;/code&gt; for the new replica; when a replica leaves the system its corresponding &lt;code&gt;Replicator&lt;/code&gt; must be terminated. The role of this &lt;code&gt;Replicator&lt;/code&gt; actor is to accept &lt;strong&gt;update events&lt;/strong&gt;, and propagate the changes to its corresponding replica (i.e. there is exactly one &lt;code&gt;Replicator&lt;/code&gt; per secondary replica). &lt;strong&gt;Also, notice that at creation time of the &lt;code&gt;Replicator&lt;/code&gt;, the primary must forward update events for every key-value pair it currently holds to this &lt;code&gt;Replicator&lt;/code&gt;.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Your task for this protocol will be to provide an Actor representing a &lt;code&gt;Replicator&lt;/code&gt;. Its declaration is:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;class Replicator(val replica: ActorRef) extends Actor
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The protocol includes two pairs of messages. The first one is used by the replica actor which requests replication of an update:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Replicate(key, valueOption, id)&lt;/code&gt; is sent to the &lt;code&gt;Replicator&lt;/code&gt; to initiate the replication of the given update to the &lt;code&gt;key&lt;/code&gt;; in case of an &lt;code&gt;Insert&lt;/code&gt; operation the &lt;code&gt;valueOption&lt;/code&gt; will be &lt;code&gt;Some(value)&lt;/code&gt; while in case of a &lt;code&gt;Remove&lt;/code&gt; operation it will be &lt;code&gt;None&lt;/code&gt;. The &lt;code&gt;sender&lt;/code&gt; of the &lt;code&gt;Replicate&lt;/code&gt; message shall be the Replica itself.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Replicated(key, id)&lt;/code&gt; is sent as a reply to the corresponding &lt;code&gt;Replicate&lt;/code&gt; message once replication of that update has been successfully completed (see &lt;code&gt;SnapshotAck&lt;/code&gt;). The &lt;code&gt;sender&lt;/code&gt; of the &lt;code&gt;Replicated&lt;/code&gt; message shall be the Replicator.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The second pair is used by the replicator when communicating with its partner replica:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Snapshot(key, valueOption, seq)&lt;/code&gt; is sent by the &lt;code&gt;Replicator&lt;/code&gt; to the appropriate secondary replica to indicate a new state of the given key. &lt;code&gt;valueOption&lt;/code&gt; has the same meaning as for &lt;code&gt;Replicate&lt;/code&gt; messages. The &lt;code&gt;sender&lt;/code&gt; of the &lt;code&gt;Snapshot&lt;/code&gt; message shall be the Replicator.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;Snapshot&lt;/code&gt; message provides a sequence number (&lt;code&gt;seq&lt;/code&gt;) to enforce ordering between the updates. Updates for a given secondary replica must be processed in contiguous ascending sequence number order; this ensures that updates for every single key are applied in the correct order. Each &lt;code&gt;Replicator&lt;/code&gt; uses its own number sequence starting at zero.&lt;/p&gt;
&lt;p&gt;When a snapshot arrives at a &lt;code&gt;Replica&lt;/code&gt; with a sequence number which is greater than the currently expected number, then that snapshot must be ignored (meaning no state change and no reaction).&lt;/p&gt;
&lt;p&gt;When a snapshot arrives at a &lt;code&gt;Replica&lt;/code&gt; with a sequence number which is smaller than the currently expected number, then that snapshot must be ignored and immediately acknowledged as described below.&lt;/p&gt;
&lt;p&gt;The sender reference when sending the &lt;code&gt;Snapshot&lt;/code&gt; message must be the &lt;code&gt;Replicator&lt;/code&gt; actor (not the primary replica actor or any other).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;SnapshotAck(key, seq)&lt;/code&gt; is the reply sent by the secondary replica to the &lt;code&gt;Replicator&lt;/code&gt; as soon as the update is persisted locally by the secondary replica. The replica might never send this reply in case it is unable to persist the update. The &lt;code&gt;sender&lt;/code&gt; of the &lt;code&gt;SnapshotAck&lt;/code&gt; message shall be the secondary Replica.&lt;/p&gt;
&lt;p&gt;The &lt;g class=&#34;gr_ gr_346 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling multiReplace&#34; id=&#34;346&#34; data-gr-id=&#34;346&#34;&gt;acknowledgement&lt;/g&gt; is sent immediately for requests whose sequence number is less than the next expected number.&lt;/p&gt;
&lt;p&gt;The expected number is set to the greater of&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the previously expected number&lt;/li&gt;
&lt;li&gt;the sequence number just acknowledged, incremented by one&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You should note that the Replicator may handle multiple snapshots of a given key in parallel (i.e. their replication has been initiated but not yet completed). It is allowed&amp;mdash;but not required&amp;mdash; to batch changes before sending them to the secondary replica, provided that each replication request is acknowledged properly and in the right sequence when complete. An example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Replicate(&#34;a_key&#34;, Some(&#34;value1&#34;), id1)
Replicate(&#34;a_key&#34;, Some(&#34;value2&#34;), id2)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;might have reached the &lt;code&gt;Replicator&lt;/code&gt; before it got around to send a &lt;code&gt;Snapshot&lt;/code&gt; message for &lt;code&gt;a_key&lt;/code&gt; to its replica. These two messages could then result in only the following replication message&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Snapshot(&#34;a_key&#34;, Some(&#34;value2&#34;), seq)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;skipping the state where &lt;code&gt;a_key&lt;/code&gt; contains the value &lt;code&gt;value1&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Since the replication protocol is meant to symbolize remote replication you must consider the case that either a &lt;code&gt;Snapshot&lt;/code&gt; message or its corresponding &lt;code&gt;SnapshotAck&lt;/code&gt; message is lost on the way. Therefore the &lt;code&gt;Replicator&lt;/code&gt; must make sure to periodically retransmit all unacknowledged changes. For grading purposes it is assumed that this happens roughly every 100 milliseconds. To allow for batching (see above) we will assume that a lost &lt;code&gt;Snapshot&lt;/code&gt; message will lead to a resend at most 200 milliseconds after the &lt;code&gt;Replicate&lt;/code&gt; request was received (again, the ActorSystem&amp;rsquo;s scheduler service is considered precise enough for this purpose).&lt;/p&gt;
&lt;h3&gt;Persistence&lt;/h3&gt;
&lt;p&gt;Each replica will have to submit incoming updates to the local &lt;code&gt;Persistence&lt;/code&gt; actor and wait for its acknowledgement before confirming the update to the requester. In case of the primary, the requester is a client which sent an &lt;code&gt;Insert&lt;/code&gt; or &lt;code&gt;Remove&lt;/code&gt; request and the confirmation is an &lt;code&gt;OperationAck&lt;/code&gt;, whereas in the case of a secondary the requester is a &lt;code&gt;Replicator&lt;/code&gt; sending a &lt;code&gt;Snapshot&lt;/code&gt; and expecting a &lt;code&gt;SnapshotAck&lt;/code&gt; back.&lt;/p&gt;
&lt;p&gt;The used message types are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Persist(key, valueOption, id)&lt;/code&gt; is sent to the &lt;code&gt;Persistence&lt;/code&gt; actor to request the given state to be persisted (with the same field description as for the &lt;code&gt;Replicate&lt;/code&gt; message above).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Persisted(key, id)&lt;/code&gt; is sent by the &lt;code&gt;Persistence&lt;/code&gt; actor as reply in case the corresponding request was successful; no reply is sent otherwise. The reply is sent to the &lt;code&gt;sender&lt;/code&gt; of the &lt;code&gt;Persist&lt;/code&gt; message and the &lt;code&gt;sender&lt;/code&gt; of the &lt;code&gt;Persisted&lt;/code&gt; message will be the Persistence Actor.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The provided implementation of this persistence service is a mock in the true sense, since it is rather unreliable: every now and then it will fail with an exception and not acknowledge the current request. It is the job of the &lt;code&gt;Replica&lt;/code&gt; actor to create and appropriately supervise the &lt;code&gt;Persistence&lt;/code&gt; actor; for the purpose of this exercise any strategy will work, which means that you can experiment with different designs based on resuming, restarting or stopping and recreating the &lt;code&gt;Persistence&lt;/code&gt; actor. To this end your &lt;code&gt;Replica&lt;/code&gt; does not receive an &lt;code&gt;ActorRef&lt;/code&gt; but a &lt;code&gt;Props&lt;/code&gt; for this actor, implying that the &lt;code&gt;Replica&lt;/code&gt; has to initially create it as well.&lt;/p&gt;
&lt;p&gt;For grading purposes it is expected that &lt;code&gt;Persist&lt;/code&gt; is retried before the 1 second response timeout in case persistence failed. The &lt;code&gt;id&lt;/code&gt; used in retried &lt;code&gt;Persist&lt;/code&gt; messages must match the one which was used in the first request for this particular update.&lt;/p&gt;
&lt;h3&gt;Your Task&lt;/h3&gt;
&lt;p&gt;Since this assignment is a longer one, we have prepared the test suite in a way that supports the solution step by step. You can use the &lt;code&gt;testOnly&lt;/code&gt; sbt command to run individual tests separately. In the following you can find a suggestion for how to proceed with the solution, but you can of course choose any path leading up to twenty points that you like.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Implement the primary replica role so that it correctly responds to the KV protocol messages without considering persistence or replication.&lt;/li&gt;
&lt;li&gt;Implement the secondary replica role so that it correctly responds to the read-only part of the KV protocol and accepts the replication protocol, without considering persistence.&lt;/li&gt;
&lt;li&gt;Implement the replicator so that it correctly mediates between replication requests, snapshots and &lt;g class=&#34;gr_ gr_326 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling multiReplace&#34; id=&#34;326&#34; data-gr-id=&#34;326&#34;&gt;acknowledgements&lt;/g&gt;.&lt;/li&gt;
&lt;li&gt;Implement the use of persistence at the secondary replicas.&lt;/li&gt;
&lt;li&gt;Implement the use of persistence and replication at the primary replica.&lt;/li&gt;
&lt;li&gt;Implement the sending of the initial state replication to newly joined replicas.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Hints, Tips&lt;/h3&gt;
&lt;p&gt;The logic for collecting acknowledgements of persistence and replication can be made such that it is usable both in primary and secondary replicas.&lt;/p&gt;
&lt;p&gt;You should write (versions of) tests which exercise the behavior under unreliable persistence (i.e. when using a &lt;code&gt;Persistence&lt;/code&gt; actor created with &lt;code&gt;flaky = true&lt;/code&gt;) or unreliable communication between primary and secondaries. The latter can be done by having the &lt;code&gt;Arbiter&lt;/code&gt; wrap the secondary nodes&amp;rsquo; ActorRefs in small actors which normally forward messages but sometimes forget to do so. The grading process involves such a test suite as well.&lt;/p&gt;
&lt;p&gt;Resending snapshots from the &lt;code&gt;Replicator&lt;/code&gt; without pause is not the intended solution&amp;mdash;the resend rate needs to be kept reasonable. This fact is exploited implicitly by the test suite in step 3.&lt;/p&gt;
&lt;h3&gt;The Effect of the Restrictions&lt;/h3&gt;
&lt;p&gt;This section is meant to offer further insights for those who want to take the assignment as a starting point for continuing their own studies beyond what the course provides. It is not necessary to read this section in order to complete the assignment.&lt;/p&gt;
&lt;h4&gt;Updates are only accepted by a distinguished primary replica&lt;/h4&gt;
&lt;p&gt;Accepting writes only on one node at any given time simplifies conflict resolution, because request arrival order at that node can be used to serialize updates to a given key. The downside of this is that this node clearly limits the amount of requests that can be handled per second, it is a single point of bottleneck.&lt;/p&gt;
&lt;p&gt;In order to scale the possible update rate beyond what a single node can digest it would also be possible to divide the key space into shards and distribute them across the members, making each member a primary for a certain portion of the key space. The clients would then need to either be told which one the right node is for updating a certain key, or every node could include a ConsistentHashingRouter which dispatches incoming requests to the right node on the client&amp;rsquo;s behalf (see the diagram below). Moving the primary role for a shard from one member to another would then be necessary to rebalance the allocation when nodes join or leave the cluster.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;//prod-edxapp.edx-cdn.org/assets/courseware/v1/1ca81a9c77cf8e814a787e09f8cf2e90/asset-v1:EPFLx+scala-reactiveX+1T2019+type@asset+block/cluster.png&#34; alt=&#34;node ring&#34; data-canonical-src=&#34;https://lh3.ggpht.com/_YGilJHLjrrI/TJy3K0wshLI/AAAAAAAAAOI/ogAvf8Ckq3k/s1600/cassandra-ring2.png&#34; style=&#34;max-width: 100%;&#34; type=&#34;saveimage&#34; target=&#34;[object Object]&#34; width=&#34;1058&#34; height=&#34;756&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The service which determines the placement of shards does not need to be a single point of bottleneck, as we can see the distribution of shards by using consistent hashing can be done without going through a central point. The only thing that needs special care is the hand-off period when shards move between nodes.&lt;/p&gt;
&lt;h4&gt;The primary node does not fail&lt;/h4&gt;
&lt;p&gt;A real system would have to tolerate a failure of the primary node, which otherwise would be a single point of failure, making the system not resilient. In order to support this, the primary role must be transferred by the arbiter to another node, which transitions from secondary to primary and starts accepting updates. During this transition updates will be left without a reply, but since confirmations are only sent out after all replicas have acknowledged an update, the new primary node will be able to continue where the old one left off.&lt;/p&gt;
&lt;p&gt;One problem are unconfirmed or even rejected updates which have in fact been accepted by all secondary replicas. The store will in this case be internally consistent, but its contents possibly does not match what the client assumes if it received an &lt;code&gt;OperationFailed&lt;/code&gt; message. Having received that message signals a possibly inconsistent state due to other reasons as well, and it could be an option to require the client to attempt to repair it by sending another write to the same key if needed.&lt;/p&gt;
&lt;h4&gt;Membership is handled reliably by a provided subsystem&lt;/h4&gt;
&lt;p&gt;A service which reliably handles membership is available in the form of the Akka Cluster module. The arbiter of this assignment can be a &lt;a href=&#34;http://doc.akka.io/docs/akka/2.2.3/scala/cluster-usage.html#Cluster_Singleton_Pattern&#34; rel=&#34;nofollow&#34;&gt;&lt;g class=&#34;gr_ gr_324 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace&#34; id=&#34;324&#34; data-gr-id=&#34;324&#34;&gt;ClusterSingleton&lt;/g&gt;&lt;/a&gt; to which replicas register and which uses DeathWatch to monitor them, or the cluster membership list could be used directly, determining the primary role by sorting the member addresses and using the first one.&lt;/p&gt;
&lt;h4&gt;The update rate is low&lt;/h4&gt;
&lt;p&gt;Without this restriction the resend mechanism for example in the &lt;code&gt;Replicator&lt;/code&gt; would have to manage the size of the buffer in which snapshots are kept while awaiting their acknowledgement. This means that the replication mechanism could either lose updates or the &lt;code&gt;Replica&lt;/code&gt; would need to start rejecting requests with &lt;code&gt;OperationFailed&lt;/code&gt; as soon as a limit on the number of outstanding requests is exceeded.&lt;/p&gt;
&lt;p&gt;Especially when considering the next restriction, latency of confirmations is a performance sensitive topic. One further possible optimization is to distribute the burden of ensuring consistency between the primary and secondary nodes by requiring that only a certain number of secondaries have sent their confirmation before acknowledging an update. In order to restore consistency in case of a replication failure (e.g. if the primary stops working for whatever reason) the secondaries have to ask their peers for the key and a reply is only sent once enough have replied with the same value. If the number of write confirmations is W and the count of agreeing reads is denoted R, then the condition for consistency is R+W&amp;gt;N, where N is the total number of replicas. This equation must be interpreted with some care because N can change during a replication or read process.&lt;/p&gt;
&lt;h4&gt;Disregarding inconsistencies after OperationFailed&lt;/h4&gt;
&lt;p&gt;This is the toughest restriction to lift because it touches on the fundamental choice of which flavor of weak consistency eventually shall be reached. The restriction allows the system to stay responsive in case of failure (by providing an &lt;code&gt;OperationFailed&lt;/code&gt; reply), but making that reply mean that the update will eventually disappear from all nodes is not possible in general.&lt;/p&gt;
&lt;p&gt;Assuming that the primary does not fail for a sufficiently long time period after the operation failure, the first step would be to ensure that for a given key only up to one update can be &amp;ldquo;in flight&amp;rdquo; at any given time. If the primary determines that this update has failed, it will then replicate the previous state for that key to all replicas, awaiting confirmation without a timeout. This favors consistency over availability, since it makes the service of updating that key unavailable while the system is experiencing a malfunction.&lt;/p&gt;
&lt;h4&gt;Clients are expected not to reuse request IDs&lt;/h4&gt;
&lt;p&gt;This restriction makes your solution simpler and it also removes the need for some grading tests which would have been hard to formulate in a way which does not assume too much about your solution. In a real system you might even find this restriction as specified operational requirement.&lt;/p&gt;
&lt;/article&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;


  
  &lt;script type=&#34;text/javascript&#34;&gt;
    (function (require) {
        require([&#39;https://prod\u002Dedxapp.edx\u002Dcdn.org/static/js/edxnotes/views/notes_visibility_factory.c0cd10d10d82.js?raw&#39;], function () {
          require([&#39;js/edxnotes/views/notes_visibility_factory&#39;], function (NotesVisibilityFactory) {
            
    var element = document.getElementById(&#39;edx-notes-wrapper-206038985433917571625996208150699913493&#39;);
    NotesVisibilityFactory.VisibilityDecorator.factory(element, {&#34;eventStringLimit&#34;: 8333, &#34;tokenUrl&#34;: &#34;/courses/course-v1:EPFLx+scala-reactiveX+1T2019/edxnotes/token/&#34;, &#34;endpoint&#34;: &#34;https://prod-edx-notes.edx.org/api/v1/&#34;, &#34;courseId&#34;: &#34;course-v1:EPFLx+scala-reactiveX+1T2019&#34;, &#34;token&#34;: &#34;eyJhbGciOiJIUzI1NiJ9.eyJzY29wZXMiOiBbImVtYWlsIiwgInByb2ZpbGUiXSwgImFkbWluaXN0cmF0b3IiOiBmYWxzZSwgInByZWZlcnJlZF91c2VybmFtZSI6ICJlcGFsYWNlIiwgImZpbHRlcnMiOiBbXSwgImlhdCI6IDE1NTQ0ODIyODYsICJzdWIiOiAiYTdhMzM2ZTI4NzFiYzgxOGNlMmQwYTczMmM1M2ExNmEiLCAiZmFtaWx5X25hbWUiOiAiTWFkZXJpdGFzIiwgImF1ZCI6ICJiNDE4MmQ1ZjQ3ZGZiMTVhY2YxZiIsICJpc3MiOiAiaHR0cHM6Ly9jb3Vyc2VzLmVkeC5vcmcvb2F1dGgyIiwgImVtYWlsX3ZlcmlmaWVkIjogdHJ1ZSwgIm5hbWUiOiAiRXJpYyBQYWxhY2lvcyIsICJ2ZXJzaW9uIjogIjEuMi4wIiwgImdpdmVuX25hbWUiOiAiRXJpYyIsICJleHAiOiAxNTU0NDg1ODg2LCAiaXNfcmVzdHJpY3RlZCI6IGZhbHNlLCAiZW1haWwiOiAiZXBhbGFjZUBnbWFpbC5jb20ifQ.vHIghMAbFAAMjEW4UO_FWp-nERj2HrJDXyQztRr95kw&#34;, &#34;user&#34;: &#34;a7a336e2871bc818ce2d0a732c53a16a&#34;, &#34;debug&#34;: false, &#34;usageId&#34;: &#34;block-v1:EPFLx+scala-reactiveX+1T2019+type@html+block@a82bde4831384de289eac542647b16db&#34;}, true);

          });
        });
    }).call(this, require || RequireJS.require);
  &lt;/script&gt;


&lt;/div&gt;

    &lt;/div&gt;
    &lt;div class=&#34;vert vert-1&#34; data-id=&#34;block-v1:EPFLx+scala-reactiveX+1T2019+type@problem+block@f263a3d6725a45aebed27565adc92c0d&#34;&gt;
        
&lt;div class=&#34;xblock xblock-student_view xblock-student_view-problem xmodule_display xmodule_CapaModule&#34; data-graded=&#34;True&#34; data-has-score=&#34;True&#34; data-runtime-class=&#34;LmsRuntime&#34; data-init=&#34;XBlockToXModuleShim&#34; data-block-type=&#34;problem&#34; data-request-token=&#34;2f994cca57c111e99f8c0af8f459feb8&#34; data-runtime-version=&#34;1&#34; data-usage-id=&#34;block-v1:EPFLx+scala-reactiveX+1T2019+type@problem+block@f263a3d6725a45aebed27565adc92c0d&#34; data-type=&#34;Problem&#34; data-course-id=&#34;course-v1:EPFLx+scala-reactiveX+1T2019&#34;&gt;
  &lt;script type=&#34;json/xblock-args&#34; class=&#34;xblock-json-init-args&#34;&gt;
    {&#34;xmodule-type&#34;: &#34;Problem&#34;}
  &lt;/script&gt;
  &lt;div id=&#34;problem_f263a3d6725a45aebed27565adc92c0d&#34; class=&#34;problems-wrapper&#34; role=&#34;group&#34;
     aria-labelledby=&#34;f263a3d6725a45aebed27565adc92c0d-problem-title&#34;
     data-problem-id=&#34;block-v1:EPFLx+scala-reactiveX+1T2019+type@problem+block@f263a3d6725a45aebed27565adc92c0d&#34; data-url=&#34;/courses/course-v1:EPFLx+scala-reactiveX+1T2019/xblock/block-v1:EPFLx+scala-reactiveX+1T2019+type@problem+block@f263a3d6725a45aebed27565adc92c0d/handler/xmodule_handler&#34;
     data-problem-score=&#34;10&#34;
     data-problem-total-possible=&#34;10&#34;
     data-attempts-used=&#34;17&#34;
     data-content=&#34;



&amp;lt;h3 class=&amp;#34;hd hd-3 problem-header&amp;#34; id=&amp;#34;f263a3d6725a45aebed27565adc92c0d-problem-title&amp;#34; aria-describedby=&amp;#34;block-v1:EPFLx+scala-reactiveX+1T2019+type@problem+block@f263a3d6725a45aebed27565adc92c0d-problem-progress&amp;#34; tabindex=&amp;#34;-1&amp;#34;&amp;gt;
  Submission
&amp;lt;/h3&amp;gt;

&amp;lt;div class=&amp;#34;problem-progress&amp;#34; id=&amp;#34;block-v1:EPFLx+scala-reactiveX+1T2019+type@problem+block@f263a3d6725a45aebed27565adc92c0d-problem-progress&amp;#34;&amp;gt;&amp;lt;/div&amp;gt;

&amp;lt;div class=&amp;#34;problem&amp;#34;&amp;gt;
  &amp;lt;div&amp;gt;
  &amp;lt;div class=&amp;#34;wrapper-problem-response&amp;#34; tabindex=&amp;#34;-1&amp;#34; aria-label=&amp;#34;Question 1&amp;#34; role=&amp;#34;group&amp;#34;&amp;gt;&amp;lt;label&amp;gt;Run the packageSubmission command and upload the submission.jar file here.&amp;lt;/label&amp;gt;
    &amp;lt;section id=&amp;#34;filesubmission_f263a3d6725a45aebed27565adc92c0d_2_1&amp;#34; class=&amp;#34;filesubmission&amp;#34;&amp;gt;
  &amp;lt;div class=&amp;#34;grader-status file&amp;#34;&amp;gt;

    &amp;lt;span class=&amp;#34;correct&amp;#34; id=&amp;#34;status_f263a3d6725a45aebed27565adc92c0d_2_1&amp;#34;&amp;gt;correct&amp;lt;/span&amp;gt;
    &amp;lt;p class=&amp;#34;debug&amp;#34;&amp;gt;correct&amp;lt;/p&amp;gt;

    &amp;lt;input type=&amp;#34;file&amp;#34; name=&amp;#34;input_f263a3d6725a45aebed27565adc92c0d_2_1&amp;#34; id=&amp;#34;input_f263a3d6725a45aebed27565adc92c0d_2_1&amp;#34; value=&amp;#34;[u&amp;#39;submission.jar&amp;#39;]&amp;#34; multiple=&amp;#34;multiple&amp;#34; data-required_files=&amp;#34;[]&amp;#34; data-allowed_files=&amp;#34;[]&amp;#34; aria-label=&amp;#34;Run the packageSubmission command and upload the submission.jar file here.&amp;#34;/&amp;gt;
  &amp;lt;/div&amp;gt;
    &amp;lt;div class=&amp;#34;message&amp;#34; tabindex=&amp;#34;-1&amp;#34;&amp;gt;&amp;lt;div&amp;gt;
            &amp;lt;p&amp;gt;Test feedback:
              &amp;lt;pre&amp;gt;Your overall score for this assignment is 10.00 out of 10.00


Your solution passed all of our tests, congratulations! You obtained the maximal test
score of 10.00.

======== DEBUG OUTPUT OF TESTING TOOL ========
[INFO] [02/25/2019 09:10:48.723] [KVStoreSuite-akka.actor.default-dispatcher-5] [akka://KVStoreSuite/user/step6-case2-primary/$b] Message [kvstore.Replicator$SendSnapshots$] from Actor[akka://KVStoreSuite/user/step6-case2-primary/$b#301895407] to Actor[akka://KVStoreSuite/user/step6-case2-primary/$b#301895407] was not delivered. [1] dead letters encountered. If this is not an expected behavior, then [Actor[akka://KVStoreSuite/user/step6-case2-primary/$b#301895407]] may have terminated unexpectedly, This logging can be turned off or adjusted with configuration settings &amp;#39;akka.log-dead-letters&amp;#39; and &amp;#39;akka.log-dead-letters-during-shutdown&amp;#39;.
[INFO] [02/25/2019 09:10:48.762] [KVStoreSuite-akka.actor.default-dispatcher-2] [akka://KVStoreSuite/user/step6-case3-primary/$b] Message [kvstore.Replicator$SendSnapshots$] from Actor[akka://KVStoreSuite/user/step6-case3-primary/$b#-510484825] to Actor[akka://KVStoreSuite/user/step6-case3-primary/$b#-510484825] was not delivered. [2] dead letters encountered. If this is not an expected behavior, then [Actor[akka://KVStoreSuite/user/step6-case3-primary/$b#-510484825]] may have terminated unexpectedly, This logging can be turned off or adjusted with configuration settings &amp;#39;akka.log-dead-letters&amp;#39; and &amp;#39;akka.log-dead-letters-during-shutdown&amp;#39;.
[INFO] [02/25/2019 09:10:51.351] [KVStoreSuite-akka.actor.default-dispatcher-2] [akka://KVStoreSuite/user/integration-case3-primary/$c] Message [kvstore.Replicator$SendSnapshots$] from Actor[akka://KVStoreSuite/user/integration-case3-primary/$c#2057493388] to Actor[akka://KVStoreSuite/user/integration-case3-primary/$c#2057493388] was not delivered. [3] dead letters encountered. If this is not an expected behavior, then [Actor[akka://KVStoreSuite/user/integration-case3-primary/$c#2057493388]] may have terminated unexpectedly, This logging can be turned off or adjusted with configuration settings &amp;#39;akka.log-dead-letters&amp;#39; and &amp;#39;akka.log-dead-letters-during-shutdown&amp;#39;.
[INFO] [02/25/2019 09:10:51.351] [KVStoreSuite-akka.actor.default-dispatcher-2] [akka://KVStoreSuite/user/step5-case4-primary/$b] Message [kvstore.Replicator$SendSnapshots$] from Actor[akka://KVStoreSuite/user/step5-case4-primary/$b#-1807963311] to Actor[akka://KVStoreSuite/user/step5-case4-primary/$b#-1807963311] was not delivered. [4] dead letters encountered. If this is not an expected behavior, then [Actor[akka://KVStoreSuite/user/step5-case4-primary/$b#-1807963311]] may have terminated unexpectedly, This logging can be turned off or adjusted with configuration settings &amp;#39;akka.log-dead-letters&amp;#39; and &amp;#39;akka.log-dead-letters-during-shutdown&amp;#39;.&amp;lt;/pre&amp;gt;
            &amp;lt;/p&amp;gt;
            &amp;lt;p&amp;gt;Additional logs: &amp;lt;pre&amp;gt;[INFO] [02/25/2019 09:10:48.723] [KVStoreSuite-akka.actor.default-dispatcher-5] [akka://KVStoreSuite/user/step6-case2-primary/$b] Message [kvstore.Replicator$SendSnapshots$] from Actor[akka://KVStoreSuite/user/step6-case2-primary/$b#301895407] to Actor[akka://KVStoreSuite/user/step6-case2-primary/$b#301895407] was not delivered. [1] dead letters encountered. If this is not an expected behavior, then [Actor[akka://KVStoreSuite/user/step6-case2-primary/$b#301895407]] may have terminated unexpectedly, This logging can be turned off or adjusted with configuration settings &amp;#39;akka.log-dead-letters&amp;#39; and &amp;#39;akka.log-dead-letters-during-shutdown&amp;#39;.[INFO] [02/25/2019 09:10:48.762] [KVStoreSuite-akka.actor.default-dispatcher-2] [akka://KVStoreSuite/user/step6-case3-primary/$b] Message [kvstore.Replicator$SendSnapshots$] from Actor[akka://KVStoreSuite/user/step6-case3-primary/$b#-510484825] to Actor[akka://KVStoreSuite/user/step6-case3-primary/$b#-510484825] was not delivered. [2] dead letters encountered. If this is not an expected behavior, then [Actor[akka://KVStoreSuite/user/step6-case3-primary/$b#-510484825]] may have terminated unexpectedly, This logging can be turned off or adjusted with configuration settings &amp;#39;akka.log-dead-letters&amp;#39; and &amp;#39;akka.log-dead-letters-during-shutdown&amp;#39;.[INFO] [02/25/2019 09:10:51.351] [KVStoreSuite-akka.actor.default-dispatcher-2] [akka://KVStoreSuite/user/integration-case3-primary/$c] Message [kvstore.Replicator$SendSnapshots$] from Actor[akka://KVStoreSuite/user/integration-case3-primary/$c#2057493388] to Actor[akka://KVStoreSuite/user/integration-case3-primary/$c#2057493388] was not delivered. [3] dead letters encountered. If this is not an expected behavior, then [Actor[akka://KVStoreSuite/user/integration-case3-primary/$c#2057493388]] may have terminated unexpectedly, This logging can be turned off or adjusted with configuration settings &amp;#39;akka.log-dead-letters&amp;#39; and &amp;#39;akka.log-dead-letters-during-shutdown&amp;#39;.[INFO] [02/25/2019 09:10:51.351] [KVStoreSuite-akka.actor.default-dispatcher-2] [akka://KVStoreSuite/user/step5-case4-primary/$b] Message [kvstore.Replicator$SendSnapshots$] from Actor[akka://KVStoreSuite/user/step5-case4-primary/$b#-1807963311] to Actor[akka://KVStoreSuite/user/step5-case4-primary/$b#-1807963311] was not delivered. [4] dead letters encountered. If this is not an expected behavior, then [Actor[akka://KVStoreSuite/user/step5-case4-primary/$b#-1807963311]] may have terminated unexpectedly, This logging can be turned off or adjusted with configuration settings &amp;#39;akka.log-dead-letters&amp;#39; and &amp;#39;akka.log-dead-letters-during-shutdown&amp;#39;.&amp;lt;/pre&amp;gt;&amp;lt;/p&amp;gt;
            &amp;lt;p&amp;gt;Your submission ID is: 9fe96e88c9aa637657171e12ecf43727&amp;lt;/p&amp;gt;
          &amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;/section&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;
  &amp;lt;div class=&amp;#34;action&amp;#34;&amp;gt;
    &amp;lt;input type=&amp;#34;hidden&amp;#34; name=&amp;#34;problem_id&amp;#34; value=&amp;#34;Submission&amp;#34; /&amp;gt;

    &amp;lt;div class=&amp;#34;submit-attempt-container&amp;#34;&amp;gt;
      &amp;lt;button type=&amp;#34;button&amp;#34; class=&amp;#34;submit btn-brand&amp;#34; data-submitting=&amp;#34;Submitting&amp;#34; data-value=&amp;#34;Submit&amp;#34; data-should-enable-submit-button=&amp;#34;True&amp;#34; aria-describedby=&amp;#34;submission_feedback_f263a3d6725a45aebed27565adc92c0d&amp;#34; &amp;gt;
          &amp;lt;span class=&amp;#34;submit-label&amp;#34;&amp;gt;Submit&amp;lt;/span&amp;gt;
      &amp;lt;/button&amp;gt;
      &amp;lt;div class=&amp;#34;submission-feedback&amp;#34; id=&amp;#34;submission_feedback_f263a3d6725a45aebed27565adc92c0d&amp;#34;&amp;gt;
        &amp;lt;span class=&amp;#34;sr&amp;#34;&amp;gt;Some problems have options such as save, reset, hints, or show answer. These options follow the Submit button.&amp;lt;/span&amp;gt;
      &amp;lt;/div&amp;gt;
    &amp;lt;/div&amp;gt;
    &amp;lt;div class=&amp;#34;problem-action-buttons-wrapper&amp;#34;&amp;gt;
    &amp;lt;/div&amp;gt;
  &amp;lt;/div&amp;gt;
    


&amp;lt;div class=&amp;#34;notification warning notification-gentle-alert
      is-hidden&amp;#34;
     tabindex=&amp;#34;-1&amp;#34;&amp;gt;
    &amp;lt;span class=&amp;#34;icon fa fa-exclamation-circle&amp;#34; aria-hidden=&amp;#34;true&amp;#34;&amp;gt;&amp;lt;/span&amp;gt;
    &amp;lt;span class=&amp;#34;notification-message&amp;#34; aria-describedby=&amp;#34;f263a3d6725a45aebed27565adc92c0d-problem-title&amp;#34;&amp;gt;
    &amp;lt;/span&amp;gt;
    &amp;lt;div class=&amp;#34;notification-btn-wrapper&amp;#34;&amp;gt;
        &amp;lt;button type=&amp;#34;button&amp;#34; class=&amp;#34;btn btn-default btn-small notification-btn review-btn sr&amp;#34;&amp;gt;Review&amp;lt;/button&amp;gt;
    &amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;

    


&amp;lt;div class=&amp;#34;notification warning notification-save
      is-hidden&amp;#34;
     tabindex=&amp;#34;-1&amp;#34;&amp;gt;
    &amp;lt;span class=&amp;#34;icon fa fa-save&amp;#34; aria-hidden=&amp;#34;true&amp;#34;&amp;gt;&amp;lt;/span&amp;gt;
    &amp;lt;span class=&amp;#34;notification-message&amp;#34; aria-describedby=&amp;#34;f263a3d6725a45aebed27565adc92c0d-problem-title&amp;#34;&amp;gt;None
    &amp;lt;/span&amp;gt;
    &amp;lt;div class=&amp;#34;notification-btn-wrapper&amp;#34;&amp;gt;
        &amp;lt;button type=&amp;#34;button&amp;#34; class=&amp;#34;btn btn-default btn-small notification-btn review-btn sr&amp;#34;&amp;gt;Review&amp;lt;/button&amp;gt;
    &amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;

    


&amp;lt;div class=&amp;#34;notification general notification-show-answer
      is-hidden&amp;#34;
     tabindex=&amp;#34;-1&amp;#34;&amp;gt;
    &amp;lt;span class=&amp;#34;icon fa fa-info-circle&amp;#34; aria-hidden=&amp;#34;true&amp;#34;&amp;gt;&amp;lt;/span&amp;gt;
    &amp;lt;span class=&amp;#34;notification-message&amp;#34; aria-describedby=&amp;#34;f263a3d6725a45aebed27565adc92c0d-problem-title&amp;#34;&amp;gt;Answers are displayed within the problem
    &amp;lt;/span&amp;gt;
    &amp;lt;div class=&amp;#34;notification-btn-wrapper&amp;#34;&amp;gt;
        &amp;lt;button type=&amp;#34;button&amp;#34; class=&amp;#34;btn btn-default btn-small notification-btn review-btn sr&amp;#34;&amp;gt;Review&amp;lt;/button&amp;gt;
    &amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;

&amp;lt;/div&amp;gt;
&#34;
     data-graded=&#34;True&#34;&gt;
    &lt;p class=&#34;loading-spinner&#34;&gt;
        &lt;i class=&#34;fa fa-spinner fa-pulse fa-2x fa-fw&#34;&gt;&lt;/i&gt;
        &lt;span class=&#34;sr&#34;&gt;Loading&amp;hellip;&lt;/span&gt;
    &lt;/p&gt;
&lt;/div&gt;

&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

  </div>
  <div id="seq_content" role="tabpanel"></div>

  <nav class="sequence-bottom" aria-label="Section">
    <button class="sequence-nav-button button-previous">
      <span class="icon fa fa-chevron-prev" aria-hidden="true"></span>
      <span>Previous</span>
    </button>
    <button class="sequence-nav-button button-next">
      <span>Next</span>
      <span class="icon fa fa-chevron-next" aria-hidden="true"></span>
    </button>
  </nav>
</div>

</div>

        </main>
    </section>

    <section class="courseware-results-wrapper">
      <div id="loading-message" aria-live="polite" aria-relevant="all"></div>
      <div id="error-message" aria-live="polite"></div>
      <div class="courseware-results search-results" data-course-id="course-v1:EPFLx+scala-reactiveX+1T2019" data-lang-code="en"></div>
    </section>

  </div>
  









    
    
    <script type="text/javascript" src="https://prod-edxapp.edx-cdn.org/static/bundles/CourseSock.207e89e610bb26d251c9.713b569749c9.js" ></script>
      <script type="text/javascript">
        
    new CourseSock({
        el:'.verification-sock'
    });

      </script>


</div>
<div class="container-footer">
    <div class="course-license">
      


     <span class="license-text">All Rights Reserved</span>

    </div>
</div>
    <nav class="nav-utilities " aria-label="Course Utilities">
        




<div class="wrapper-utility edx-notes-visibility">
  <span class="action-toggle-message" aria-live="polite"></span>
  <button class="utility-control utility-control-button action-toggle-notes is-disabled is-active">
    <span class="icon fa fa-pencil" aria-hidden="true"></span>
    <span class="utility-control-label sr">Hide notes</span>
  </button>
</div>


  
  <script type="text/javascript">
    (function (require) {
        require(['https://prod\u002Dedxapp.edx\u002Dcdn.org/static/js/edxnotes/views/notes_visibility_factory.c0cd10d10d82.js?raw'], function () {
          require(['js/edxnotes/views/notes_visibility_factory'], function (NotesVisibilityFactory) {
            
    NotesVisibilityFactory.ToggleVisibilityView(
        true,
        '/courses/course\u002Dv1:EPFLx+scala\u002DreactiveX+1T2019/edxnotes/visibility/'
    );

          });
        });
    }).call(this, require || RequireJS.require);
  </script>



    </nav>

      
    </div>

        






<footer id="footer-edx-v3" role="contentinfo" aria-label="Page Footer"
>

<div class="container">
    <div class="row main-row"><!-- row -->
        <div class="col-xl-2 col-lg-12 col-md-3 col-sm-8 col-xs-10 column-1 flex-column column-styles">
            <div class="row">
                <div class="col-12 column-2-2 column-styles">
                <div class="edx-footer-logo">
                    <a href="https://www.edx.org">
                        <img alt="edX Home Page" src="https://prod-edxapp.edx-cdn.org/static/edx.org/images/logo-footer.fde85fe42f6b.png">
                    </a>
                </div>


                </div>
            </div>

        </div>
        <div class="col-xl-6 col-lg-8 col-md-9 col-sm-5 col-xs-12 column-2 flex-column column-styles">
             <div class="row full-height">

                 <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 column-2-1 col-xs-12 first-div-border column-styles ">
                    <div class="row full-height">
                        <div class="ml-xl-0 col-lg-10 ml-lg-auto col-md-12 column-2-2 col-sm-10 full-height column-styles">
                              <h2 class="heading">edX</h2>
                                  <ul class="list-unstyled clear-margins  ">
                                      <li>
                                          <a href="https://www.edx.org/about-us">About</a>
                                      </li>
                                      <li>
                                          <a href="https://www.edx.org/enterprise">edX for Business</a>
                                      </li>
                                  </ul>
                        </div>
                    </div>
                 </div>
                 <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12 column-2-1 second-div-border column-styles ">
                        <div class="row full-height">
                            <div class="col-lg-12 col-md-12 col-sm-10 column-2-2 full-height column-styles">
                                  <h2 class="heading">Legal</h2>
                                    <ul class="list-unstyled clear-margins  ">
                                        <li>
                                          <a href="https://www.edx.org/edx-terms-service">Terms of Service &amp; Honor Code</a>
                                        </li>
                                        <li>
                                          <a href="https://www.edx.org/edx-privacy-policy">Privacy Policy</a>
                                        </li>
                                        <li>
                                          <a href="https://www.edx.org/accessibility">Accessibility Policy</a>
                                        </li>
                                    </ul>
                            </div>
                          </div>
                </div>
                 <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12 column-2-1 third-div-border column-styles">
                      <div class="row full-height">
                        <div class="col-lg-12 col-md-12 col-sm-10 full-height column-2-2 column-styles">
                              <h2 class="heading">Connect</h2>
                              <ul class="list-unstyled clear-margins  ">
                                <li>
                                  <a href="https://www.edx.org/blog">Blog</a>
                                </li>
                                <li>
                                  <a href="https://courses.edx.org/support/contact_us">Contact Us</a>
                                </li>
                                <li>
                                  <a href="https://support.edx.org">Help Center</a>
                                </li>
                              </ul>
                        </div>
                      </div>
                 </div>





            </div>
        </div>
        <div class="col-xl-4 col-lg-4 col-md-9 ml-md-auto col-sm-7 column-3 flex-column fourth-div-border column-styles">
                <div class="row">
                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 column-3-1 social-app-links-div column-styles ml-auto">
                      <div class="row">
                        <div class="col-lg-12 col-md-12 column-3-2 column-styles">
                             <ul class="list-inline list-unstyled social">
                                    <li>
                                        <a href="http://www.facebook.com/EdxOnline" class="social-links external" title="Facebook" rel="noreferrer">
                                            <span class="icon fa fa-facebook-square" aria-hidden="true"></span>
                                            <span class="sr">Like edX on Facebook</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://twitter.com/edXOnline" class="social-links external" title="Twitter" rel="noreferrer">
                                            <span class="icon fa fa-twitter-square" aria-hidden="true"></span>
                                            <span class="sr">Follow edX on Twitter</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://www.youtube.com/user/edxonline" class="social-links external" title="Youtube" rel="noreferrer">
                                            <span class="icon fa fa-youtube-square" aria-hidden="true"></span>
                                            <span class="sr">Subscribe to the edX YouTube channel</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="http://www.linkedin.com/company/edx" class="social-links external" title="LinkedIn" rel="noreferrer">
                                            <span class="icon fa fa-linkedin-square" aria-hidden="true"></span>
                                            <span class="sr">Follow edX on LinkedIn</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://plus.google.com/+edXOnline" class="social-links external" title="Google+" rel="noreferrer">
                                            <span class="icon fa fa-google-plus-square" aria-hidden="true"></span>
                                            <span class="sr">Follow edX on Google+</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="http://www.reddit.com/r/edx" class="social-links external" title="Reddit" rel="noreferrer">
                                            <span class="icon fa fa-reddit-square" aria-hidden="true"></span>
                                            <span class="sr">Subscribe to the edX subreddit</span>
                                        </a>
                                    </li>
                             </ul>
                            <ul class="list-inline list-unstyled app-links">
                                    <li>
                                        <a href="https://itunes.apple.com/us/app/edx/id945480667?mt=8" class="app-link external">
                                            <img alt="Download the edX mobile app from the Apple App Store" src="https://prod-edxapp.edx-cdn.org/static/images/app/app_store_badge_135x40.d0558d910630.svg">
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://play.google.com/store/apps/details?id=org.edx.mobile" class="app-link external">
                                            <img alt="Download the edX mobile app from Google Play" src="https://prod-edxapp.edx-cdn.org/static/images/app/google_play_badge_45.6ea466e328da.png">
                                        </a>
                                    </li>
                            </ul>
                              <!--"EdX, Open edX, and MicroMasters are trademarks of edX Inc. registered in the U.S. and other countries-->
                              <p class="copyright"> 20122019 edX Inc. 
                                  <br/>
                                  EdX, Open edX, and MicroMasters are registered trademarks of edX Inc. 
                                   | ICP17044299-2
                              </p>
                        </div>
                  </div>
                </div>

                </div>

        </div>
    </div>




</div>

</footer>



  

    <link href="https://prod-edxapp.edx-cdn.org/static/edx.org/css/lms-footer-edx.b57512ef6549.css" rel="stylesheet" type="text/css" />






  </div>

  
  
  <script type="text/javascript" src="https://prod-edxapp.edx-cdn.org/static/common/js/vendor/jquery.scrollTo.525edcc52fe8.js"></script>
  <script type="text/javascript" src="https://prod-edxapp.edx-cdn.org/static/js/vendor/flot/jquery.flot.d3d45ff0c6a8.js"></script>

  
    <script type="text/javascript" src="https://prod-edxapp.edx-cdn.org/static/js/lms-courseware.515d666a83a0.js" charset="utf-8"></script>


  




<script type="text/javascript">
    // Fast Preview was introduced in 2.5. However, it
    // causes undesirable flashing/font size changes when
    // MathJax is used for interactive preview (equation editor).
    // Setting processSectionDelay to 0 (see below) fully eliminates
    // fast preview, but to reduce confusion, we are also setting
    // the option as displayed in the context menu to false.
    // When upgrading to 2.6, check if this variable name changed.
    window.MathJax = {
      menuSettings: {CHTMLpreview: false}
    };
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [
        ["\\(","\\)"],
        ['[mathjaxinline]','[/mathjaxinline]']
      ],
      displayMath: [
        ["\\[","\\]"],
        ['[mathjax]','[/mathjax]']
      ]
    }
  });
</script>
<script type="text/x-mathjax-config">

  // In order to eliminate all flashing during interactive
  // preview, it is necessary to set processSectionDelay to 0
  // (remove delay between input and output phases). This
  // effectively disables fast preview, regardless of
  // the fast preview setting as shown in the context menu.
  MathJax.Hub.processSectionDelay = 0;

  MathJax.Hub.signal.Interest(function(message) {
    if(message[0] === "End Math") {
        set_mathjax_display_div_settings();
    }
  });
  function set_mathjax_display_div_settings() {
    $('.MathJax_Display').each(function( index ) {
      this.setAttribute('tabindex', '0');
      this.setAttribute('aria-live', 'off');
      this.removeAttribute('role');
      this.removeAttribute('aria-readonly');
    });
  }
</script>

<script type="text/javascript">
    // Activating Mathjax accessibility files
    window.MathJax = {
        menuSettings: {
            collapsible: true,
            autocollapse: true,
            explorer: true
        }
    };
</script>

<!-- This must appear after all mathjax-config blocks, so it is after the imports from the other templates.
     It can't be run through static.url because MathJax uses crazy url introspection to do lazy loading of
     MathJax extension libraries -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/MathJax.js?config=TeX-MML-AM_SVG"></script>



  
    
      <script type="text/javascript" src="https://prod-edxapp.edx-cdn.org/static/js/courseware/courseware_factory.1504fc10caef.js?raw"></script>
    <script type="text/javascript">
        (function (require) {
            require(['js/courseware/courseware_factory'], function (CoursewareFactory) {
                
    CoursewareFactory();
  
            });
        }).call(this, require || RequireJS.require);
    </script>



  <script type="text/javascript">
    var $$course_id = "course\u002Dv1:EPFLx+scala\u002DreactiveX+1T2019";
  </script>


<script src='https://prod-edxapp.edx-cdn.org/static/bundles/XModuleShim.e03571529f8ee6f0ae6d.ecc178d1e5da.js' type='application/javascript'></script>
<script src='https://prod-edxapp.edx-cdn.org/static/bundles/HtmlModule.cc774bc5f3ebe4307e49.511ca7242a54.js' type='application/javascript'></script>
<script src='https://prod-edxapp.edx-cdn.org/static/bundles/CapaModule.abbac1c40a6b67fec540.22998a2226fc.js' type='application/javascript'></script>
<script src='https://prod-edxapp.edx-cdn.org/static/bundles/VerticalStudentView.9b38798e0079e0e4c9dd.a8cf7cd152ff.js' type='application/javascript'></script>
<script src='https://prod-edxapp.edx-cdn.org/static/bundles/SequenceModule.fbabd50926a8d306e0e1.99d9bfe9ca23.js' type='application/javascript'></script>



  


    <!-- begin segment footer -->
    <script type="text/javascript">
        $(window).load(function() {
            analytics.identify(
                "60068",
                {
                    email: "epalace@gmail.com",
                    username: "epalace"
                },
                {
                    integrations: {
                        // Disable MailChimp because we don't want to update the user's email
                        // and username in MailChimp on every page load. We only need to capture
                        // this data on registration/activation.
                        MailChimp: false
                    }
                }
            );
        });
    </script>
    <!-- end segment footer -->

  <script type="text/javascript" src="https://prod-edxapp.edx-cdn.org/static/js/vendor/noreferrer.aa62a3e70ffa.js" charset="utf-8"></script>
  <script type="text/javascript" src="https://prod-edxapp.edx-cdn.org/static/js/utils/navigation.08930e16ab3d.js" charset="utf-8"></script>
  <script type="text/javascript" src="https://prod-edxapp.edx-cdn.org/static/js/header/header.309a1243e175.js"></script>
  
</body>
</html>


